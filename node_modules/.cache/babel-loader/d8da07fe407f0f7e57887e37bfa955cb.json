{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React, { useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport isEmpty from 'lodash/isEmpty';\nimport cn from 'classnames';\nimport createStyles from '@guestyci/foundation/createStyles';\nimport history from \"../utils\";\nvar useStyles = createStyles({\n  a: {\n    '&:hover': {\n      color: 'inherit',\n      textDecoration: 'inherit'\n    },\n    color: 'inherit'\n  }\n});\n\nvar resolvePathName = function resolvePathName() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var currentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n  var serializedPath = path.startsWith('/') ? path.substr(1) : path;\n\n  if (currentPath.endsWith('/')) {\n    return \"\".concat(currentPath).concat(serializedPath);\n  }\n\n  var currentPathArray = currentPath.split('/');\n\n  if (currentPathArray.length) {\n    currentPathArray.pop();\n    var currentPathWithoutLastItem = currentPathArray.join('/');\n    return \"\".concat(currentPathWithoutLastItem, \"/\").concat(serializedPath);\n  }\n\n  return \"/\".concat(serializedPath);\n};\n\nvar Link = function Link(_ref) {\n  var to = _ref.to,\n      href = _ref.href,\n      children = _ref.children,\n      className = _ref.className,\n      onClick = _ref.onClick,\n      rest = _objectWithoutProperties(_ref, [\"to\", \"href\", \"children\", \"className\", \"onClick\"]);\n\n  var classes = useStyles();\n  var target = rest.target;\n  var aHref = useMemo(function () {\n    if (!isEmpty(href)) {\n      return href;\n    }\n\n    var location = to;\n\n    if (typeof to === 'string') {\n      var locationFromPath = history.parsePath(to);\n      locationFromPath.pathname = resolvePathName(locationFromPath.pathname, history.location().pathname);\n      location = locationFromPath;\n    }\n\n    return location ? history.createHref(location) : '';\n  }, [href, to]);\n  var onLinkClick = useCallback(function (e) {\n    if (!target || target === '_self') {\n      e.preventDefault();\n\n      if (e.ctrlKey || e.metaKey) {\n        history.link(aHref, true);\n      } else if (!isEmpty(to)) {\n        history.push(to);\n      } else {\n        history.link(href, false);\n      }\n    }\n\n    if (target === '_none') {\n      e.preventDefault();\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  }, [href, to, target, onClick, history]);\n  return /*#__PURE__*/React.createElement(\"a\", _extends({\n    href: aHref,\n    className: cn(classes.a, className),\n    onClick: onLinkClick\n  }, rest), children);\n};\n\nLink.defaultProps = {\n  className: '',\n  to: '',\n  href: ''\n};\nLink.propTypes = {\n  /** Navigation prop for react route navigation */\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.shape()]),\n\n  /** Navigation prop for window location navigation */\n  href: PropTypes.string,\n\n  /** Custom classes to style Link component */\n  className: PropTypes.string\n};\nexport default Link;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/boilplate/simple-app/simple-app-archive/node_modules/@guestyci/history/esm/Link/Link.js"],"names":["_extends","_objectWithoutProperties","React","useMemo","useCallback","PropTypes","isEmpty","cn","createStyles","history","useStyles","a","color","textDecoration","resolvePathName","path","arguments","length","undefined","currentPath","serializedPath","startsWith","substr","endsWith","concat","currentPathArray","split","pop","currentPathWithoutLastItem","join","Link","_ref","to","href","children","className","onClick","rest","classes","target","aHref","location","locationFromPath","parsePath","pathname","createHref","onLinkClick","e","preventDefault","ctrlKey","metaKey","link","push","createElement","defaultProps","propTypes","oneOfType","string","shape"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React, { useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport isEmpty from 'lodash/isEmpty';\nimport cn from 'classnames';\nimport createStyles from '@guestyci/foundation/createStyles';\nimport history from \"../utils\";\nvar useStyles = createStyles({\n  a: {\n    '&:hover': {\n      color: 'inherit',\n      textDecoration: 'inherit'\n    },\n    color: 'inherit'\n  }\n});\n\nvar resolvePathName = function resolvePathName() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var currentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n  var serializedPath = path.startsWith('/') ? path.substr(1) : path;\n\n  if (currentPath.endsWith('/')) {\n    return \"\".concat(currentPath).concat(serializedPath);\n  }\n\n  var currentPathArray = currentPath.split('/');\n\n  if (currentPathArray.length) {\n    currentPathArray.pop();\n    var currentPathWithoutLastItem = currentPathArray.join('/');\n    return \"\".concat(currentPathWithoutLastItem, \"/\").concat(serializedPath);\n  }\n\n  return \"/\".concat(serializedPath);\n};\n\nvar Link = function Link(_ref) {\n  var to = _ref.to,\n      href = _ref.href,\n      children = _ref.children,\n      className = _ref.className,\n      onClick = _ref.onClick,\n      rest = _objectWithoutProperties(_ref, [\"to\", \"href\", \"children\", \"className\", \"onClick\"]);\n\n  var classes = useStyles();\n  var target = rest.target;\n  var aHref = useMemo(function () {\n    if (!isEmpty(href)) {\n      return href;\n    }\n\n    var location = to;\n\n    if (typeof to === 'string') {\n      var locationFromPath = history.parsePath(to);\n      locationFromPath.pathname = resolvePathName(locationFromPath.pathname, history.location().pathname);\n      location = locationFromPath;\n    }\n\n    return location ? history.createHref(location) : '';\n  }, [href, to]);\n  var onLinkClick = useCallback(function (e) {\n    if (!target || target === '_self') {\n      e.preventDefault();\n\n      if (e.ctrlKey || e.metaKey) {\n        history.link(aHref, true);\n      } else if (!isEmpty(to)) {\n        history.push(to);\n      } else {\n        history.link(href, false);\n      }\n    }\n\n    if (target === '_none') {\n      e.preventDefault();\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  }, [href, to, target, onClick, history]);\n  return /*#__PURE__*/React.createElement(\"a\", _extends({\n    href: aHref,\n    className: cn(classes.a, className),\n    onClick: onLinkClick\n  }, rest), children);\n};\n\nLink.defaultProps = {\n  className: '',\n  to: '',\n  href: ''\n};\nLink.propTypes = {\n  /** Navigation prop for react route navigation */\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.shape()]),\n\n  /** Navigation prop for window location navigation */\n  href: PropTypes.string,\n\n  /** Custom classes to style Link component */\n  className: PropTypes.string\n};\nexport default Link;"]},"metadata":{},"sourceType":"module"}