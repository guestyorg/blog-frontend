{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { useContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport memoize from '@guestyci/memoize';\nimport FormFieldComponent from \"./FormFieldComponent\";\nimport { required as requiredFn } from \"../validators\";\nimport { FormProvider } from \"../enums\";\nimport FormContext from \"../Form/FormContext\";\nvar buildValidators = memoize(function (validations, required) {\n  return required ? [requiredFn].concat(_toConsumableArray(validations)) : validations;\n});\nvar composeValidators = memoize(function (validators) {\n  return function (value) {\n    return validators.reduce(function (error, validator) {\n      return error || validator(value);\n    }, undefined);\n  };\n});\nexport var getFormFieldValidation = function getFormFieldValidation(validations, required, provider) {\n  return provider === FormProvider.Redux ? buildValidators(validations, required) : composeValidators(required ? [requiredFn].concat(_toConsumableArray(validations)) : validations);\n};\n\nvar FormField = function FormField(_ref) {\n  var name = _ref.name,\n      label = _ref.label,\n      info = _ref.info,\n      children = _ref.children,\n      className = _ref.className,\n      style = _ref.style,\n      validate = _ref.validate,\n      field = _ref.field,\n      required = _ref.required,\n      props = _objectWithoutProperties(_ref, [\"name\", \"label\", \"info\", \"children\", \"className\", \"style\", \"validate\", \"field\", \"required\"]);\n\n  var _useContext = useContext(FormContext),\n      provider = _useContext.provider,\n      fieldInstance = _useContext.fieldInstance;\n\n  var Field = field || fieldInstance;\n  var validations = useMemo(function () {\n    return getFormFieldValidation(validate, required, provider);\n  }, [provider, validate, required]);\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    name: name,\n    style: style,\n    className: className,\n    validate: validations,\n    component: FormFieldComponent,\n    required: required,\n    label: label,\n    info: info\n  }, props, {\n    \"data-qa\": \"form-field\"\n  }), children);\n};\n\nFormField.defaultProps = {\n  label: null,\n  info: null,\n  className: '',\n  field: undefined,\n  style: {},\n  validate: [],\n  required: false\n};\nFormField.propTypes = {\n  /** form field name to validate accordingly */\n  name: PropTypes.string.isRequired,\n\n  /** the redux form field props - required due to redux-form limitations */\n  field: PropTypes.oneOfType([PropTypes.shape(), PropTypes.func]),\n\n  /** Form field level validations to run - to use required, use the boolean required prop - Must be an Array */\n  validate: PropTypes.arrayOf(PropTypes.func),\n\n  /** Form element to render */\n  children: PropTypes.node.isRequired,\n\n  /** form field label */\n  label: PropTypes.string,\n\n  /** form field Info description */\n  info: PropTypes.string,\n\n  /** Form field root level additional class */\n  className: PropTypes.string,\n\n  /** Form field root level additional class */\n  style: PropTypes.shape(),\n\n  /** Form field component level additional class */\n  required: PropTypes.bool\n};\nexport var FieldComponent = FormField;\nexport default FormField;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/onboarding-blog/onboarding-blog-app/onboarding-frontend-main/simple-app-archive/node_modules/@guestyci/foundation/esm/FormField/FormField.js"],"names":["_extends","_objectWithoutProperties","_toConsumableArray","React","useContext","useMemo","PropTypes","memoize","FormFieldComponent","required","requiredFn","FormProvider","FormContext","buildValidators","validations","concat","composeValidators","validators","value","reduce","error","validator","undefined","getFormFieldValidation","provider","Redux","FormField","_ref","name","label","info","children","className","style","validate","field","props","_useContext","fieldInstance","Field","createElement","component","defaultProps","propTypes","string","isRequired","oneOfType","shape","func","arrayOf","node","bool","FieldComponent"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { useContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport memoize from '@guestyci/memoize';\nimport FormFieldComponent from \"./FormFieldComponent\";\nimport { required as requiredFn } from \"../validators\";\nimport { FormProvider } from \"../enums\";\nimport FormContext from \"../Form/FormContext\";\nvar buildValidators = memoize(function (validations, required) {\n  return required ? [requiredFn].concat(_toConsumableArray(validations)) : validations;\n});\nvar composeValidators = memoize(function (validators) {\n  return function (value) {\n    return validators.reduce(function (error, validator) {\n      return error || validator(value);\n    }, undefined);\n  };\n});\nexport var getFormFieldValidation = function getFormFieldValidation(validations, required, provider) {\n  return provider === FormProvider.Redux ? buildValidators(validations, required) : composeValidators(required ? [requiredFn].concat(_toConsumableArray(validations)) : validations);\n};\n\nvar FormField = function FormField(_ref) {\n  var name = _ref.name,\n      label = _ref.label,\n      info = _ref.info,\n      children = _ref.children,\n      className = _ref.className,\n      style = _ref.style,\n      validate = _ref.validate,\n      field = _ref.field,\n      required = _ref.required,\n      props = _objectWithoutProperties(_ref, [\"name\", \"label\", \"info\", \"children\", \"className\", \"style\", \"validate\", \"field\", \"required\"]);\n\n  var _useContext = useContext(FormContext),\n      provider = _useContext.provider,\n      fieldInstance = _useContext.fieldInstance;\n\n  var Field = field || fieldInstance;\n  var validations = useMemo(function () {\n    return getFormFieldValidation(validate, required, provider);\n  }, [provider, validate, required]);\n  return /*#__PURE__*/React.createElement(Field, _extends({\n    name: name,\n    style: style,\n    className: className,\n    validate: validations,\n    component: FormFieldComponent,\n    required: required,\n    label: label,\n    info: info\n  }, props, {\n    \"data-qa\": \"form-field\"\n  }), children);\n};\n\nFormField.defaultProps = {\n  label: null,\n  info: null,\n  className: '',\n  field: undefined,\n  style: {},\n  validate: [],\n  required: false\n};\nFormField.propTypes = {\n  /** form field name to validate accordingly */\n  name: PropTypes.string.isRequired,\n\n  /** the redux form field props - required due to redux-form limitations */\n  field: PropTypes.oneOfType([PropTypes.shape(), PropTypes.func]),\n\n  /** Form field level validations to run - to use required, use the boolean required prop - Must be an Array */\n  validate: PropTypes.arrayOf(PropTypes.func),\n\n  /** Form element to render */\n  children: PropTypes.node.isRequired,\n\n  /** form field label */\n  label: PropTypes.string,\n\n  /** form field Info description */\n  info: PropTypes.string,\n\n  /** Form field root level additional class */\n  className: PropTypes.string,\n\n  /** Form field root level additional class */\n  style: PropTypes.shape(),\n\n  /** Form field component level additional class */\n  required: PropTypes.bool\n};\nexport var FieldComponent = FormField;\nexport default FormField;"]},"metadata":{},"sourceType":"module"}