{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormProvider } from \"../enums\";\nimport FormContext from \"./FormContext\";\nexport var scrollToFirstError = function scrollToFirstError(offset) {\n  var el = document.querySelector('.form-field-validation-error');\n\n  if (!el) {\n    return;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top;\n\n  var scrollTop = document.documentElement.scrollTop;\n  el.focus({\n    preventScroll: true\n  });\n  window.scrollTo({\n    top: top + scrollTop - offset,\n    behavior: 'smooth'\n  });\n};\nvar Form = React.forwardRef(function Form(_ref, ref) {\n  var onSubmit = _ref.onSubmit,\n      children = _ref.children,\n      className = _ref.className,\n      style = _ref.style,\n      provider = _ref.provider,\n      fieldInstance = _ref.fieldInstance,\n      props = _objectWithoutProperties(_ref, [\"onSubmit\", \"children\", \"className\", \"style\", \"provider\", \"fieldInstance\"]);\n\n  var handleSubmit = function handleSubmit(e) {\n    scrollToFirstError(300);\n    onSubmit(e);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    className: className,\n    style: style,\n    ref: ref,\n    noValidate: true,\n    onSubmit: handleSubmit\n  }, props), /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: {\n      provider: provider,\n      fieldInstance: fieldInstance\n    }\n  }, children));\n});\nForm.defaultProps = {\n  provider: FormProvider.Final,\n  fieldInstance: null\n};\nForm.propTypes = {\n  /** Callback function to handle form submit */\n  onSubmit: PropTypes.func.isRequired,\n\n  /** Form child element to render */\n  children: PropTypes.node.isRequired,\n\n  /** Form field instance to pass */\n  fieldInstance: PropTypes.oneOfType([PropTypes.shape(), PropTypes.func]),\n\n  /** String - the form provider to render * */\n  provider: PropTypes.oneOf(['redux', 'final']),\n\n  /** Form root level additional class */\n  className: PropTypes.string,\n\n  /** Form root level additional style */\n  style: PropTypes.shape()\n};\nForm.displayName = 'Form';\nexport default Form;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/boilplate/simple-app/simple-app-archive/node_modules/@guestyci/foundation/esm/Form/Form.js"],"names":["_extends","_objectWithoutProperties","React","PropTypes","FormProvider","FormContext","scrollToFirstError","offset","el","document","querySelector","_el$getBoundingClient","getBoundingClientRect","top","scrollTop","documentElement","focus","preventScroll","window","scrollTo","behavior","Form","forwardRef","_ref","ref","onSubmit","children","className","style","provider","fieldInstance","props","handleSubmit","e","createElement","noValidate","Provider","value","defaultProps","Final","propTypes","func","isRequired","node","oneOfType","shape","oneOf","string","displayName"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormProvider } from \"../enums\";\nimport FormContext from \"./FormContext\";\nexport var scrollToFirstError = function scrollToFirstError(offset) {\n  var el = document.querySelector('.form-field-validation-error');\n\n  if (!el) {\n    return;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top;\n\n  var scrollTop = document.documentElement.scrollTop;\n  el.focus({\n    preventScroll: true\n  });\n  window.scrollTo({\n    top: top + scrollTop - offset,\n    behavior: 'smooth'\n  });\n};\nvar Form = React.forwardRef(function Form(_ref, ref) {\n  var onSubmit = _ref.onSubmit,\n      children = _ref.children,\n      className = _ref.className,\n      style = _ref.style,\n      provider = _ref.provider,\n      fieldInstance = _ref.fieldInstance,\n      props = _objectWithoutProperties(_ref, [\"onSubmit\", \"children\", \"className\", \"style\", \"provider\", \"fieldInstance\"]);\n\n  var handleSubmit = function handleSubmit(e) {\n    scrollToFirstError(300);\n    onSubmit(e);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    className: className,\n    style: style,\n    ref: ref,\n    noValidate: true,\n    onSubmit: handleSubmit\n  }, props), /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: {\n      provider: provider,\n      fieldInstance: fieldInstance\n    }\n  }, children));\n});\nForm.defaultProps = {\n  provider: FormProvider.Final,\n  fieldInstance: null\n};\nForm.propTypes = {\n  /** Callback function to handle form submit */\n  onSubmit: PropTypes.func.isRequired,\n\n  /** Form child element to render */\n  children: PropTypes.node.isRequired,\n\n  /** Form field instance to pass */\n  fieldInstance: PropTypes.oneOfType([PropTypes.shape(), PropTypes.func]),\n\n  /** String - the form provider to render * */\n  provider: PropTypes.oneOf(['redux', 'final']),\n\n  /** Form root level additional class */\n  className: PropTypes.string,\n\n  /** Form root level additional style */\n  style: PropTypes.shape()\n};\nForm.displayName = 'Form';\nexport default Form;"]},"metadata":{},"sourceType":"module"}