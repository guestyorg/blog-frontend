!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.history=n():t.history=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=43)}([function(t,n,e){var r=e(10),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();t.exports=a},function(t,n,e){var r=e(23),o=e(29);t.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},function(t,n,e){var r=e(9),o=e(25),a=e(26),i=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):a(t)}},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n,e){var r=e(18),o=e(21),a=e(34),i=e(13),c=e(36),u=e(37),f=e(7),s=e(39),p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(c(t)&&(i(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||s(t)||a(t)))return!t.length;var n=o(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(f(t))return!r(t).length;for(var e in t)if(p.call(t,e))return!1;return!0}},function(t,n,e){var r=e(2),o=e(13),a=e(3);t.exports=function(t){return"string"==typeof t||!o(t)&&a(t)&&"[object String]"==r(t)}},function(t,n,e){"use strict";n.decode=n.parse=e(16),n.encode=n.stringify=e(17)},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},function(t,n,e){var r=e(2),o=e(11);t.exports=function(t){if(!o(t))return!1;var n=r(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(t,n,e){var r=e(0).Symbol;t.exports=r},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(24))},function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,n){var e=Array.isArray;t.exports=e},function(t,n){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";function r(t,n){return Object.prototype.hasOwnProperty.call(t,n)}t.exports=function(t,n,e,a){n=n||"&",e=e||"=";var i={};if("string"!=typeof t||0===t.length)return i;var c=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var f=t.length;u>0&&f>u&&(f=u);for(var s=0;s<f;++s){var p,l,h,v,d=t[s].replace(c,"%20"),y=d.indexOf(e);y>=0?(p=d.substr(0,y),l=d.substr(y+1)):(p=d,l=""),h=decodeURIComponent(p),v=decodeURIComponent(l),r(i,h)?o(i[h])?i[h].push(v):i[h]=[i[h],v]:i[h]=v}return i};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,n,e){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,n,e,c){return n=n||"&",e=e||"=",null===t&&(t=void 0),"object"==typeof t?a(i(t),(function(i){var c=encodeURIComponent(r(i))+e;return o(t[i])?a(t[i],(function(t){return c+encodeURIComponent(r(t))})).join(n):c+encodeURIComponent(r(t[i]))})).join(n):c?encodeURIComponent(r(c))+e+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,n){if(t.map)return t.map(n);for(var e=[],r=0;r<t.length;r++)e.push(n(t[r],r));return e}var i=Object.keys||function(t){var n=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},function(t,n,e){var r=e(7),o=e(19),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var n=[];for(var e in Object(t))a.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,n,e){var r=e(20)(Object.keys,Object);t.exports=r},function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var r=e(22),o=e(30),a=e(31),i=e(32),c=e(33),u=e(2),f=e(12),s=f(r),p=f(o),l=f(a),h=f(i),v=f(c),d=u;(r&&"[object DataView]"!=d(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=d(new o)||a&&"[object Promise]"!=d(a.resolve())||i&&"[object Set]"!=d(new i)||c&&"[object WeakMap]"!=d(new c))&&(d=function(t){var n=u(t),e="[object Object]"==n?t.constructor:void 0,r=e?f(e):"";if(r)switch(r){case s:return"[object DataView]";case p:return"[object Map]";case l:return"[object Promise]";case h:return"[object Set]";case v:return"[object WeakMap]"}return n}),t.exports=d},function(t,n,e){var r=e(1)(e(0),"DataView");t.exports=r},function(t,n,e){var r=e(8),o=e(27),a=e(11),i=e(12),c=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,s=u.toString,p=f.hasOwnProperty,l=RegExp("^"+s.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(r(t)?l:c).test(i(t))}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){var r=e(9),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var n=a.call(t,c),e=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=i.call(t);return r&&(n?t[c]=e:delete t[c]),o}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n,e){var r,o=e(28),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!a&&a in t}},function(t,n,e){var r=e(0)["__core-js_shared__"];t.exports=r},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n,e){var r=e(1)(e(0),"Map");t.exports=r},function(t,n,e){var r=e(1)(e(0),"Promise");t.exports=r},function(t,n,e){var r=e(1)(e(0),"Set");t.exports=r},function(t,n,e){var r=e(1)(e(0),"WeakMap");t.exports=r},function(t,n,e){var r=e(35),o=e(3),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&i.call(t,"callee")&&!c.call(t,"callee")};t.exports=u},function(t,n,e){var r=e(2),o=e(3);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,n,e){var r=e(8),o=e(14);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,n,e){(function(t){var r=e(0),o=e(38),a=n&&!n.nodeType&&n,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,c=i&&i.exports===a?r.Buffer:void 0,u=(c?c.isBuffer:void 0)||o;t.exports=u}).call(this,e(15)(t))},function(t,n){t.exports=function(){return!1}},function(t,n,e){var r=e(40),o=e(41),a=e(42),i=a&&a.isTypedArray,c=i?o(i):r;t.exports=c},function(t,n,e){var r=e(2),o=e(14),a=e(3),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!i[r(t)]}},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){(function(t){var r=e(10),o=n&&!n.nodeType&&n,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===o&&r.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=c}).call(this,e(15)(t))},function(t,n,e){"use strict";function r(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function o(){return(o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}e.r(n),e.d(n,"init",(function(){return E})),e.d(n,"createHistory",(function(){return $}));var a=e(6),i=e.n(a),c=e(4),u=e.n(c),f=e(5),s=e.n(f);function p(){return(p=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function l(t){return"/"===t.charAt(0)}function h(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}var v=function(t,n){void 0===n&&(n="");var e,r=t&&t.split("/")||[],o=n&&n.split("/")||[],a=t&&l(t),i=n&&l(n),c=a||i;if(t&&l(t)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var u=o[o.length-1];e="."===u||".."===u||""===u}else e=!1;for(var f=0,s=o.length;s>=0;s--){var p=o[s];"."===p?h(o,s):".."===p?(h(o,s),f++):f&&(h(o,s),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&l(o[0])||o.unshift("");var v=o.join("/");return e&&"/"!==v.substr(-1)&&(v+="/"),v};var d=function(t,n){if(!t)throw new Error("Invariant failed")};function y(t){return"/"===t.charAt(0)?t:"/"+t}function b(t,n){return function(t,n){return 0===t.toLowerCase().indexOf(n.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(n.length))}(t,n)?t.substr(n.length):t}function g(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function j(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function m(t,n,e,r){var o;"string"==typeof t?(o=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(e=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}}(t)).state=n:(void 0===(o=p({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==n&&void 0===o.state&&(o.state=n));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(o.key=e),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=v(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function w(){var t=null;var n=[];return{setPrompt:function(n){return t=n,function(){t===n&&(t=null)}},confirmTransitionTo:function(n,e,r,o){if(null!=t){var a="function"==typeof t?t(n,e):t;"string"==typeof a?"function"==typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(t){var e=!0;function r(){e&&t.apply(void 0,arguments)}return n.push(r),function(){e=!1,n=n.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.forEach((function(t){return t.apply(void 0,e)}))}}}var O=!("undefined"==typeof window||!window.document||!window.document.createElement);function x(t,n){n(window.confirm(t))}function P(){try{return window.history.state||{}}catch(t){return{}}}function A(t){void 0===t&&(t={}),O||d(!1);var n,e=window.history,r=(-1===(n=window.navigator.userAgent).indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=t,i=a.forceRefresh,c=void 0!==i&&i,u=a.getUserConfirmation,f=void 0===u?x:u,s=a.keyLength,l=void 0===s?6:s,h=t.basename?g(y(t.basename)):"";function v(t){var n=t||{},e=n.key,r=n.state,o=window.location,a=o.pathname+o.search+o.hash;return h&&(a=b(a,h)),m(a,r,e)}function A(){return Math.random().toString(36).substr(2,l)}var S=w();function k(t){p(B,t),B.length=e.length,S.notifyListeners(B.location,B.action)}function U(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||_(v(t.state))}function E(){_(v(P()))}var T=!1;function _(t){if(T)T=!1,k();else{S.confirmTransitionTo(t,"POP",f,(function(n){n?k({action:"POP",location:t}):function(t){var n=B.location,e=R.indexOf(n.key);-1===e&&(e=0);var r=R.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(T=!0,I(o))}(t)}))}}var F=v(P()),R=[F.key];function C(t){return h+j(t)}function I(t){e.go(t)}var M=0;function L(t){1===(M+=t)&&1===t?(window.addEventListener("popstate",U),o&&window.addEventListener("hashchange",E)):0===M&&(window.removeEventListener("popstate",U),o&&window.removeEventListener("hashchange",E))}var H=!1;var B={length:e.length,action:"POP",location:F,createHref:C,push:function(t,n){var o=m(t,n,A(),B.location);S.confirmTransitionTo(o,"PUSH",f,(function(t){if(t){var n=C(o),a=o.key,i=o.state;if(r)if(e.pushState({key:a,state:i},null,n),c)window.location.href=n;else{var u=R.indexOf(B.location.key),f=R.slice(0,u+1);f.push(o.key),R=f,k({action:"PUSH",location:o})}else window.location.href=n}}))},replace:function(t,n){var o=m(t,n,A(),B.location);S.confirmTransitionTo(o,"REPLACE",f,(function(t){if(t){var n=C(o),a=o.key,i=o.state;if(r)if(e.replaceState({key:a,state:i},null,n),c)window.location.replace(n);else{var u=R.indexOf(B.location.key);-1!==u&&(R[u]=o.key),k({action:"REPLACE",location:o})}else window.location.replace(n)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(t){void 0===t&&(t=!1);var n=S.setPrompt(t);return H||(L(1),H=!0),function(){return H&&(H=!1,L(-1)),n()}},listen:function(t){var n=S.appendListener(t);return L(1),function(){L(-1),n()}}};return B}function S(t){var n=t.baseUrl,e=void 0===n?"":n,r=t.alias,o=t.locationPath,a=void 0===o?"":o;return"".concat(r||e).concat(a).replace("/apps","")}function k(t,n){window.parent.postMessage({action:"INNER_APP_ROUTE_CHANGE",payload:{location:t,search:n}},"*")}function U(t,n){window.parent.postMessage({action:"ROUTE_CHANGE_OUT_OF_APP",payload:{location:t,search:n}},"*")}function E(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=S({locationPath:t});k(e,n)}var T=function(t){var n=t.baseUrl,e=t.alias,r=t.isFragment;return function(t,n){try{if(!t)return!1;var e=S({baseUrl:t,alias:n});return!window.parent.location.pathname.includes(e)}catch(t){return console.error("No window found!"),!1}}(n,e)&&r&&E(n),t.listen((function(r,o){if("PUSH"===o||"REPLACE"===o){var a=r.pathname,i=r.search,c=S({baseUrl:n,alias:e,locationPath:a});t.isFragment&&k(c,i)}}))},_=A();function F(){return _}var R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.baseUrl,e=void 0===n?"":n,r=t.isFragment,o=void 0===r||r,a=t.alias;return(_=A({basename:e})).isFragment=o,_.baseUrl=e,_.alias=a,_.unlisten=T(_),_},C=window.parent;function I(t){return i.a.stringify(t)}function M(){var t=F().location.search.replace("?","");return i.a.parse(t)}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e="",r=u()(t),a=F().location.search.replace("?","");if(n&&r)e=a;else if(n&&!r){var i=o({},t,M());e=I(i)}else n||r||(e=I(t));return u()(e)?e:"?".concat(e)}function H(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{return t?C.location.pathname.replace(F().baseUrl,""):C.location.pathname}catch(t){return t}}function B(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u()(t)||(n=s()(e)?e:L(e,r),F().push({pathname:t,search:n}))}var N={listen:F().listen,goBack:F().goBack,goForward:F().goForward,location:function(){return F().location},go:B,setQueryParams:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=L(t,n);F().push({search:e})},getPathName:H,getQueryParams:M,link:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n?C.open(t,"_blank"):F().isFragment&&U(t)},hasInPath:function(t){try{var n=H(!1)||"";return new Set(n.split("/")).has(t)}catch(t){return t}},replace:function(t){var n=t.pathname,e=t.search,a=r(t,["pathname","search"]),i=s()(e)?e:L(e);F().replace(o({pathname:n,search:i},a))},length:function(){return F().length},push:function(t,n){s()(t)?B(t):B(t.pathname,t.search,n)},createHref:function(t){return F().createHref(t)},stringifyQueryParams:function(t){return I(t)},parsePath:function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(e=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}}},$=R;n.default=N}])}));