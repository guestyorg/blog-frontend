"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _react = require("react");

var _isObject = _interopRequireDefault(require("lodash/isObject"));

var _LocalizationContext = _interopRequireDefault(require("../LocalizationProvider/LocalizationContext"));

var _i18nUtility = require("../utils/i18nUtility");

var getFormattedTranslations = function getFormattedTranslations() {
  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  return items.map(function (item) {
    var defaultMessage = item.d || item.defaultMessage;
    return _i18nUtility.intl.get(item.id, item.variables, defaultMessage).d(defaultMessage);
  });
};

var useTranslations = function useTranslations() {
  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

  var _useContext = (0, _react.useContext)(_LocalizationContext["default"]),
      language = _useContext.language;

  return (0, _react.useMemo)(function () {
    var isMultiTranslate = (0, _isObject["default"])(items[0]);
    return isMultiTranslate ? getFormattedTranslations(items) : [_i18nUtility.intl.get(items[0]).d(items[1])];
  }, [language].concat((0, _toConsumableArray2["default"])(deps)));
};

var _default = useTranslations;
exports["default"] = _default;