{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport PropTypes from 'prop-types';\nimport Toast, { VARIANTS_NAMES } from \"./Toast\";\nvar slideAndPop = {\n  entering: {\n    transform: 'translate3d(120%, 0, 0)'\n  },\n  entered: {\n    transform: 'translate3d(0,0,0)'\n  },\n  exiting: {\n    transform: 'scale(0.66)',\n    opacity: 0\n  },\n  exited: {\n    transform: 'scale(0.66)',\n    opacity: 0\n  }\n};\nvar collapse = {\n  entering: 'auto',\n  entered: 120,\n  exiting: 0,\n  exited: 'auto'\n};\nvar useStyles = createUseStyles({\n  toast: function toast(_ref) {\n    var transition = _ref.transition,\n        duration = _ref.duration;\n    return _extends({\n      transition: \"transform \".concat(duration, \"ms cubic-bezier(0.2, 0, 0, 1), opacity \").concat(duration, \"ms\")\n    }, slideAndPop[transition]);\n  },\n  container: {\n    transition: function transition(_ref2) {\n      var duration = _ref2.duration;\n      return \"max-height \".concat(duration - 100, \"ms 100ms\");\n    },\n    maxHeight: function maxHeight(_ref3) {\n      var transition = _ref3.transition;\n      return collapse[transition];\n    }\n  }\n});\n\nvar StackedToast = function StackedToast(_ref4) {\n  var variant = _ref4.variant,\n      onDismiss = _ref4.onDismiss,\n      _ref4$autoHideDelay = _ref4.autoHideDelay,\n      autoHideDelay = _ref4$autoHideDelay === void 0 ? 5000 : _ref4$autoHideDelay,\n      _ref4$autoHide = _ref4.autoHide,\n      autoHide = _ref4$autoHide === void 0 ? true : _ref4$autoHide,\n      transition = _ref4.transition,\n      duration = _ref4.duration,\n      rest = _objectWithoutProperties(_ref4, [\"variant\", \"onDismiss\", \"autoHideDelay\", \"autoHide\", \"transition\", \"duration\"]);\n\n  var timeout = useRef();\n  var loadingVariant = variant === 'loading';\n\n  var _useStyles = useStyles({\n    autoHideDelay: autoHideDelay,\n    transition: transition,\n    duration: duration\n  }),\n      container = _useStyles.container,\n      toast = _useStyles.toast;\n\n  useEffect(function () {\n    if (!loadingVariant && autoHide) {\n      timeout.current = setTimeout(onDismiss, autoHideDelay);\n      return function () {\n        return timeout.current && clearTimeout(timeout.current);\n      };\n    }\n  }, [loadingVariant, autoHide, onDismiss]);\n  var dismiss = useCallback(function () {\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n\n    onDismiss();\n  }, [onDismiss]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: container,\n    \"data-qa\": \"stacked-toast\"\n  }, /*#__PURE__*/React.createElement(Toast, _extends({}, rest, {\n    onDismiss: dismiss,\n    variant: variant,\n    className: toast\n  })));\n};\n\nStackedToast.propTypes = {\n  variant: PropTypes.oneOf(VARIANTS_NAMES).isRequired,\n  onDismiss: PropTypes.func.isRequired,\n  autoHideDelay: PropTypes.number,\n  autoHide: PropTypes.bool,\n  duration: PropTypes.number,\n  transition: PropTypes.oneOf(['exited', 'exiting', 'entered', 'entering'])\n};\nexport default StackedToast;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/simple-app-archive/node_modules/@guestyci/foundation/esm/Toast/StackedToast.js"],"names":["_objectWithoutProperties","_extends","React","useCallback","useEffect","useRef","createUseStyles","PropTypes","Toast","VARIANTS_NAMES","slideAndPop","entering","transform","entered","exiting","opacity","exited","collapse","useStyles","toast","_ref","transition","duration","concat","container","_ref2","maxHeight","_ref3","StackedToast","_ref4","variant","onDismiss","_ref4$autoHideDelay","autoHideDelay","_ref4$autoHide","autoHide","rest","timeout","loadingVariant","_useStyles","current","setTimeout","clearTimeout","dismiss","createElement","className","propTypes","oneOf","isRequired","func","number","bool"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport PropTypes from 'prop-types';\nimport Toast, { VARIANTS_NAMES } from \"./Toast\";\nvar slideAndPop = {\n  entering: {\n    transform: 'translate3d(120%, 0, 0)'\n  },\n  entered: {\n    transform: 'translate3d(0,0,0)'\n  },\n  exiting: {\n    transform: 'scale(0.66)',\n    opacity: 0\n  },\n  exited: {\n    transform: 'scale(0.66)',\n    opacity: 0\n  }\n};\nvar collapse = {\n  entering: 'auto',\n  entered: 120,\n  exiting: 0,\n  exited: 'auto'\n};\nvar useStyles = createUseStyles({\n  toast: function toast(_ref) {\n    var transition = _ref.transition,\n        duration = _ref.duration;\n    return _extends({\n      transition: \"transform \".concat(duration, \"ms cubic-bezier(0.2, 0, 0, 1), opacity \").concat(duration, \"ms\")\n    }, slideAndPop[transition]);\n  },\n  container: {\n    transition: function transition(_ref2) {\n      var duration = _ref2.duration;\n      return \"max-height \".concat(duration - 100, \"ms 100ms\");\n    },\n    maxHeight: function maxHeight(_ref3) {\n      var transition = _ref3.transition;\n      return collapse[transition];\n    }\n  }\n});\n\nvar StackedToast = function StackedToast(_ref4) {\n  var variant = _ref4.variant,\n      onDismiss = _ref4.onDismiss,\n      _ref4$autoHideDelay = _ref4.autoHideDelay,\n      autoHideDelay = _ref4$autoHideDelay === void 0 ? 5000 : _ref4$autoHideDelay,\n      _ref4$autoHide = _ref4.autoHide,\n      autoHide = _ref4$autoHide === void 0 ? true : _ref4$autoHide,\n      transition = _ref4.transition,\n      duration = _ref4.duration,\n      rest = _objectWithoutProperties(_ref4, [\"variant\", \"onDismiss\", \"autoHideDelay\", \"autoHide\", \"transition\", \"duration\"]);\n\n  var timeout = useRef();\n  var loadingVariant = variant === 'loading';\n\n  var _useStyles = useStyles({\n    autoHideDelay: autoHideDelay,\n    transition: transition,\n    duration: duration\n  }),\n      container = _useStyles.container,\n      toast = _useStyles.toast;\n\n  useEffect(function () {\n    if (!loadingVariant && autoHide) {\n      timeout.current = setTimeout(onDismiss, autoHideDelay);\n      return function () {\n        return timeout.current && clearTimeout(timeout.current);\n      };\n    }\n  }, [loadingVariant, autoHide, onDismiss]);\n  var dismiss = useCallback(function () {\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n\n    onDismiss();\n  }, [onDismiss]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: container,\n    \"data-qa\": \"stacked-toast\"\n  }, /*#__PURE__*/React.createElement(Toast, _extends({}, rest, {\n    onDismiss: dismiss,\n    variant: variant,\n    className: toast\n  })));\n};\n\nStackedToast.propTypes = {\n  variant: PropTypes.oneOf(VARIANTS_NAMES).isRequired,\n  onDismiss: PropTypes.func.isRequired,\n  autoHideDelay: PropTypes.number,\n  autoHide: PropTypes.bool,\n  duration: PropTypes.number,\n  transition: PropTypes.oneOf(['exited', 'exiting', 'entered', 'entering'])\n};\nexport default StackedToast;"]},"metadata":{},"sourceType":"module"}