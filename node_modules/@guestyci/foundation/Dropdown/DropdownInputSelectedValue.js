"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _isObject = _interopRequireDefault(require("lodash/isObject"));

var _isString = _interopRequireDefault(require("lodash/isString"));

var _isNil = _interopRequireDefault(require("lodash/isNil"));

var _utils = require("../utils");

var _TextField = _interopRequireDefault(require("../TextField"));

var _Row = _interopRequireDefault(require("../Layout/Row"));

var renderInputComponent = function renderInputComponent(RenderValue, value, overflowEllipsis) {
  if ((0, _isNil["default"])(RenderValue)) {
    return /*#__PURE__*/_react["default"].createElement(_TextField["default"], {
      overflowEllipsis: overflowEllipsis
    }, value);
  }

  if ((0, _isString["default"])(RenderValue)) {
    return /*#__PURE__*/_react["default"].createElement(_TextField["default"], {
      overflowEllipsis: overflowEllipsis
    }, value[RenderValue]);
  }

  return /*#__PURE__*/_react["default"].createElement(RenderValue, (0, _extends2["default"])({}, value || {}, {
    "data-qa": "render-input-component"
  }));
};

var DropdownInputSelectedValue = function DropdownInputSelectedValue(_ref) {
  var variant = _ref.variant,
      renderValue = _ref.renderValue,
      value = _ref.value;
  var isSingleSelect = variant === 'single';

  if ((0, _utils.isEmpty)(value)) {
    return null;
  }

  return isSingleSelect ? renderInputComponent(renderValue, value, isSingleSelect) : value.map(function (val, index) {
    var key = (0, _isObject["default"])(val) ? "".concat(val, "_").concat(index) : val;
    var isLast = index === value.length - 1;
    return /*#__PURE__*/_react["default"].createElement(_Row["default"], {
      align: "center",
      key: key
    }, renderInputComponent(renderValue, val, isSingleSelect), !isLast && /*#__PURE__*/_react["default"].createElement(_react["default"].Fragment, null, "\xA0,"));
  });
};

var _default = DropdownInputSelectedValue;
exports["default"] = _default;