{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useMemo, useEffect } from 'react';\nimport isEmpty from 'lodash/isEmpty';\nimport memoize from '@guestyci/memoize';\nimport { createUseStyles as jssCreateUseStyles } from 'react-jss';\nimport { increment } from \"./sheetCounter\";\nimport useTheme from \"../useTheme\";\n\nvar generateUseStyles = function generateUseStyles(options) {\n  return function (sheet) {\n    return jssCreateUseStyles(sheet, options);\n  };\n};\n\nvar getSheet = memoize(function (styles, theme) {\n  return typeof styles === 'function' ? styles(theme) : styles;\n});\n\nvar getClasses = function getClasses(sheetClasses, overrideClasses) {\n  if (!isEmpty(overrideClasses)) {\n    return _extends({}, sheetClasses, {}, overrideClasses);\n  }\n\n  return sheetClasses;\n};\n\nvar generateOverrideSheet = function generateOverrideSheet(_ref, jssOverrides) {\n  var jssIndex = _ref.jssIndex,\n      options = _ref.options,\n      useStylesOverrides = _ref.useStylesOverrides;\n  var jss = {\n    useStylesOverrides: useStylesOverrides\n  };\n\n  if (isEmpty(jssOverrides)) {\n    return {};\n  }\n\n  if (jssIndex) {\n    return jss;\n  }\n\n  jss.jssIndex = increment();\n  var createUseStylesOverride = generateUseStyles(_extends({}, options, {\n    index: jss.jssIndex\n  }));\n  jss.useStylesOverrides = createUseStylesOverride(jssOverrides);\n  return jss;\n};\n\nfunction createStyles(styles) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var index = increment();\n  var instance = {\n    index: index,\n    options: options,\n    jssIndex: null,\n    useStylesOverrides: function useStylesOverrides() {}\n  };\n  var createUseStyles = generateUseStyles(_extends({}, options, {\n    index: index\n  }));\n  return function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var jss = props.jss,\n        otherProps = _objectWithoutProperties(props, [\"jss\"]);\n\n    var theme = useTheme(); // create basic style sheet for component instance\n\n    var useStyleSheet = useMemo(function () {\n      return createUseStyles(getSheet(styles, theme));\n    }, [theme]);\n    useEffect(function () {\n      return function () {\n        instance.jssIndex = null;\n      };\n    }, []); // cache base sheet classes\n\n    var classes = useStyleSheet(otherProps); // Create Overriding sheet in case jss is passed\n\n    var _useMemo = useMemo(function () {\n      return generateOverrideSheet(instance, getSheet(jss, theme));\n    }, [theme, jss]),\n        _useMemo$useStylesOve = _useMemo.useStylesOverrides,\n        useStylesOverrides = _useMemo$useStylesOve === void 0 ? function () {} : _useMemo$useStylesOve,\n        jssInstance = _objectWithoutProperties(_useMemo, [\"useStylesOverrides\"]);\n\n    instance = _extends({}, instance, {}, jssInstance); // cache jss override sheet classes\n\n    var jssOverrideClasses = useStylesOverrides(otherProps);\n\n    if (!isEmpty(jssOverrideClasses)) {\n      instance.useStylesOverrides = useStylesOverrides;\n    }\n\n    return getClasses(classes, jssOverrideClasses);\n  };\n}\n\nexport default createStyles;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/boilplate/simple-app/simple-app-archive/node_modules/@guestyci/foundation/esm/createStyles/createStyles.js"],"names":["_objectWithoutProperties","_extends","useMemo","useEffect","isEmpty","memoize","createUseStyles","jssCreateUseStyles","increment","useTheme","generateUseStyles","options","sheet","getSheet","styles","theme","getClasses","sheetClasses","overrideClasses","generateOverrideSheet","_ref","jssOverrides","jssIndex","useStylesOverrides","jss","createUseStylesOverride","index","createStyles","arguments","length","undefined","instance","useStyles","props","otherProps","useStyleSheet","classes","_useMemo","_useMemo$useStylesOve","jssInstance","jssOverrideClasses"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useMemo, useEffect } from 'react';\nimport isEmpty from 'lodash/isEmpty';\nimport memoize from '@guestyci/memoize';\nimport { createUseStyles as jssCreateUseStyles } from 'react-jss';\nimport { increment } from \"./sheetCounter\";\nimport useTheme from \"../useTheme\";\n\nvar generateUseStyles = function generateUseStyles(options) {\n  return function (sheet) {\n    return jssCreateUseStyles(sheet, options);\n  };\n};\n\nvar getSheet = memoize(function (styles, theme) {\n  return typeof styles === 'function' ? styles(theme) : styles;\n});\n\nvar getClasses = function getClasses(sheetClasses, overrideClasses) {\n  if (!isEmpty(overrideClasses)) {\n    return _extends({}, sheetClasses, {}, overrideClasses);\n  }\n\n  return sheetClasses;\n};\n\nvar generateOverrideSheet = function generateOverrideSheet(_ref, jssOverrides) {\n  var jssIndex = _ref.jssIndex,\n      options = _ref.options,\n      useStylesOverrides = _ref.useStylesOverrides;\n  var jss = {\n    useStylesOverrides: useStylesOverrides\n  };\n\n  if (isEmpty(jssOverrides)) {\n    return {};\n  }\n\n  if (jssIndex) {\n    return jss;\n  }\n\n  jss.jssIndex = increment();\n  var createUseStylesOverride = generateUseStyles(_extends({}, options, {\n    index: jss.jssIndex\n  }));\n  jss.useStylesOverrides = createUseStylesOverride(jssOverrides);\n  return jss;\n};\n\nfunction createStyles(styles) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var index = increment();\n  var instance = {\n    index: index,\n    options: options,\n    jssIndex: null,\n    useStylesOverrides: function useStylesOverrides() {}\n  };\n  var createUseStyles = generateUseStyles(_extends({}, options, {\n    index: index\n  }));\n  return function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var jss = props.jss,\n        otherProps = _objectWithoutProperties(props, [\"jss\"]);\n\n    var theme = useTheme(); // create basic style sheet for component instance\n\n    var useStyleSheet = useMemo(function () {\n      return createUseStyles(getSheet(styles, theme));\n    }, [theme]);\n    useEffect(function () {\n      return function () {\n        instance.jssIndex = null;\n      };\n    }, []); // cache base sheet classes\n\n    var classes = useStyleSheet(otherProps); // Create Overriding sheet in case jss is passed\n\n    var _useMemo = useMemo(function () {\n      return generateOverrideSheet(instance, getSheet(jss, theme));\n    }, [theme, jss]),\n        _useMemo$useStylesOve = _useMemo.useStylesOverrides,\n        useStylesOverrides = _useMemo$useStylesOve === void 0 ? function () {} : _useMemo$useStylesOve,\n        jssInstance = _objectWithoutProperties(_useMemo, [\"useStylesOverrides\"]);\n\n    instance = _extends({}, instance, {}, jssInstance); // cache jss override sheet classes\n\n    var jssOverrideClasses = useStylesOverrides(otherProps);\n\n    if (!isEmpty(jssOverrideClasses)) {\n      instance.useStylesOverrides = useStylesOverrides;\n    }\n\n    return getClasses(classes, jssOverrideClasses);\n  };\n}\n\nexport default createStyles;"]},"metadata":{},"sourceType":"module"}