"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _MockJssProvider = _interopRequireDefault(require("./MockJssProvider"));

/**
 * Setup for component using jss classes
 * @param comp
 * @return {function(*=, *=): *}
 */
var _default = function _default(comp) {
  return function () {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var _options$isMount = options.isMount,
        isMount = _options$isMount === void 0 ? false : _options$isMount,
        rest = (0, _objectWithoutProperties2["default"])(options, ["isMount"]);

    var component = _react["default"].createElement(comp, (0, _extends2["default"])({}, props, {
      className: "".concat(props === null || props === void 0 ? void 0 : props.className, " test-rendered-component")
    }));

    var wrapper = isMount ? (0, _enzyme.mount)(component, (0, _extends2["default"])({}, rest, {
      wrappingComponent: _MockJssProvider["default"]
    })) : (0, _enzyme.shallow)(component, (0, _extends2["default"])({}, rest, {
      wrappingComponent: _MockJssProvider["default"]
    }));
    return isMount ? wrapper.find('.test-rendered-component').last() : wrapper.find('.test-rendered-component');
  };
};

exports["default"] = _default;