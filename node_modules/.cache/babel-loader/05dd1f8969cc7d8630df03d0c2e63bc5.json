{"ast":null,"code":"var _jsxFileName = \"/Users/giladdekel/Workspace/Guesty/simple-app-archive/src/screens/BlogPreprod/BlogPreprodListScreen/BlogPreprodListScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteBlogPreprod, listBlogsPreprod } from \"../../../actions/blogActions\";\nimport { BLOG_DELETE_RESET, BLOG_DETAILS_RESET, POST_DELETE_RESET } from \"../../../constants/blogConstants\";\nimport Section from \"@guestyci/foundation/legacy/Section\";\nimport AddButton from \"@guestyci/foundation/AddButton\";\nimport Table, { Column } from \"@guestyci/foundation/legacy/Table\";\nimport { getEmptySelection, getSelectionOnAction } from \"@guestyci/foundation/legacy/Table/tableUtility\";\nimport Cell from \"@guestyci/foundation/legacy/Table/Cell\";\nimport HeaderCell from \"@guestyci/foundation/legacy/Table/HeaderCell\";\nimport FlatButton from \"@guestyci/foundation/legacy/FlatButton\";\nimport { sleep } from \"@guestyci/foundation/utils/commonUtility\";\nimport orderBy from \"lodash/orderBy\";\nimport DateCell from \"@guestyci/foundation/legacy/Table/DateCell\";\nimport DateTimeCell from \"@guestyci/foundation/legacy/Table/DateTimeCell\"; // import data from '../../../__mocks__/tableData';\n\nimport Resource from \"@guestyci/agni\";\nimport TextField from \"@guestyci/foundation/TextField\";\nimport { Row } from \"@guestyci/foundation/Layout\";\nimport { ReactComponent as BtnTrash } from \"@svgr/webpack?-svgo,+titleProp,+ref!@guestyci/foundation/icons/BtnTrash.svg\";\nimport Icon from \"@guestyci/foundation/Icon\";\nimport Spinner from \"@guestyci/foundation/Spinner\";\nimport StatusIndication from \"@guestyci/foundation/StatusIndication\";\nimport { NavLink } from \"react-router-dom\";\nimport Radio from \"@guestyci/foundation/Radio\";\nimport RadioGroup from \"@guestyci/foundation/RadioGroup\";\nimport { useToast } from \"@guestyci/foundation/Toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BlogListPreprodScreen(props) {\n  _s();\n\n  const {\n    addToast\n  } = useToast();\n  console.log(\"props:\", props);\n  const [rawData, setRawData] = useState(); // const [data, setData] = useState();\n\n  const [view, setView] = useState(\"all\");\n  let data;\n  const [blogDeleted, setBlogDeleted] = useState(false);\n  const [rowSelection, setRowSelection] = useState(getEmptySelection());\n  const {\n    allSelected,\n    items,\n    exceptItems\n  } = rowSelection;\n  const width = 200; // const pageSize = 25;\n  // const scrollOffset = data ? data.length : 100;\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [skip, setSkip] = useState(0);\n\n  const blogList = useSelector(state => state.blogList);\n  const {\n    loading,\n    error,\n    blogs\n  } = blogList; // console.log(\"blogs:\", blogs);\n\n  data = blogs;\n  const blogDelete = useSelector(state => state.blogDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete\n  } = blogDelete;\n  const userData = useSelector(state => state.userData);\n  const {\n    userInfoData,\n    accountData,\n    loading: loadingUserData,\n    error: errorUserData\n  } = userData;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (errorDelete) {\n      addToast.danger(\"error deleting the blog, only blog admin can delete the blog\");\n      dispatch({\n        type: BLOG_DELETE_RESET\n      });\n    } else if (successDelete) {\n      addToast.success(\"blog was delete\");\n      dispatch({\n        type: BLOG_DELETE_RESET\n      });\n    }\n\n    dispatch(listBlogsPreprod(view)); // dispatch({\n    //   type: BLOG_DETAILS_RESET,\n    // });\n  }, [dispatch, successDelete, errorDelete, view]); // const deleteHandler = (blog) => {\n  //   console.log(\"blog:\", blog);\n  //   if (window.confirm(\"Are you sure?\")) {\n  //     dispatch(deleteBlog(blog._id));\n  //   }\n  // };\n  // const classes = useStyles();\n  // const selectionSize =\n  //   allSelected && data.length > 0\n  //     ? data.length - exceptItems.size\n  //     : items.size;\n\n  const selectionSize = view === \"account\" && data && data.length > 0 && items ? items.size : 0;\n\n  const handleRowCheckChange = action => {\n    console.log(\"handleRowCheckChange\"); // console.log('action:', action);\n\n    const selection = getSelectionOnAction({\n      rowSelection,\n      action,\n      data\n    });\n    console.log(\"rowSelection:\", rowSelection);\n    console.log(\"action:\", action);\n    console.log(\"data:\", data); // console.log('selection:', selection);\n\n    setRowSelection(selection);\n  };\n\n  const deleteBlogHandler = async blogId => {\n    console.log(\"deleteBlogHandler\");\n\n    try {\n      // const response = await api.delete(`/blogs/${blogId}`); // will go to `${config.MAILER_URL}/blogs`\n      // console.log('response:', response);\n      // const data = response.data;\n      // addToast.success('blog was delete')\n      // props.history.push('/');\n      dispatch(deleteBlogPreprod(blogId));\n      setBlogDeleted(true);\n      handleClearSelection();\n    } catch (error) {\n      console.log(\"error:\", error);\n      addToast.danger(\"error deleting the blog\");\n    }\n  }; // useEffect(() => {\n  //   dispatch({ type: POST_DELETE_RESET });\n  //   dispatch({ type: BLOG_DELETE_RESET });\n  // }, []);\n\n\n  const handleDelete = () => {\n    console.log(\"rowSelection.items: \", rowSelection.items);\n\n    if (window.confirm(\"Are you sure?\")) {\n      rowSelection.items.forEach(item => deleteBlogHandler(item));\n    }\n  };\n\n  const handleClearSelection = () => {\n    console.log(\"handleClearSelection\");\n    setRowSelection(getEmptySelection());\n  };\n\n  const handleRowClick = (...args) => {\n    console.log(\"handleRowClick\", ...args);\n    const rowData = { ...args\n    };\n    console.log(\"rowData:\", rowData);\n    console.log(\"rowData:\", rowData[0].id.children);\n    const blogId = rowData[0].id.children; // console.log('args:', args.id)\n    // props.history.push(\"www.google.com\")\n\n    props.history.push(`/blog/preprod/edit/${blogId}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Spinner, {\n      size: 80,\n      strokeWidth: 6\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(StatusIndication, {\n      variant: \"danger\",\n      text: \"error getting the data \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), userInfoData ? /*#__PURE__*/_jsxDEV(Section, {\n      gutter: 2,\n      children: /*#__PURE__*/_jsxDEV(AddButton, {\n        onClick: () => props.history.push(`/blog/preprod/add`),\n        text: \"Add Blog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(NavLink, {\n      to: \"/user/signin\" // activeStyle={activeStyle}\n      ,\n      style: {\n        marginLeft: \"20px\"\n      },\n      exact: true,\n      children: \"sign in to create a new blog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this), data && /*#__PURE__*/_jsxDEV(Section, {\n      col: true,\n      className: \"bg-white\",\n      children: [view === \"account\" && selectionSize > 0 && /*#__PURE__*/_jsxDEV(Row, {\n        spacing: 4,\n        children: [/*#__PURE__*/_jsxDEV(FlatButton, {\n          onClick: handleClearSelection,\n          disabled: !selectionSize,\n          children: `Unselect ${selectionSize || \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this), selectionSize > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(FlatButton, {\n            type: \"error\",\n            onClick: handleDelete,\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              align: \"center\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                svg: BtnTrash\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                children: \" Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 19\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }, this), userInfoData && /*#__PURE__*/_jsxDEV(RadioGroup, {\n        name: \"view\",\n        inline: true,\n        onChange: e => setView(e.target.value),\n        value: view,\n        children: [/*#__PURE__*/_jsxDEV(Radio, {\n          value: \"account\",\n          children: \"Account Blogs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Radio, {\n          value: \"all\",\n          children: \"All Blogs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }, this), console.log(\"rowSelection: \", rowSelection), view === \"account\" && /*#__PURE__*/_jsxDEV(Table, {\n        multiselect: true,\n        height: 500,\n        data: blogs // isLoading={isLoading}\n        // pageSize={pageSize}\n        ,\n        rowSelection: rowSelection,\n        onCheckedRowsChange: handleRowCheckChange,\n        onRowClick: handleRowClick // infiniteScrollOptions={{\n        //   skip,\n        //   scrollOffset,\n        //   onLoadMore: handleLoadMore,\n        //   totalCount: semiInfiniteData.length,\n        // }}\n        // sortBy={sortBy}\n        // onSort={handleSort}\n        ,\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"title\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"title\",\n            children: \"Blog Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"admin\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"admin\",\n            children: \"Blog Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"email\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"account\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"account\",\n            children: \"account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"createdAt\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"createdAt\",\n            children: \"created At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"updatedAt\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"updatedAt\",\n            children: \"updated At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }, this), view === \"all\" && /*#__PURE__*/_jsxDEV(Table, {\n        height: 500,\n        data: blogs,\n        rowSelection: rowSelection,\n        onCheckedRowsChange: handleRowCheckChange,\n        onRowClick: handleRowClick,\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"title\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"title\",\n            children: \"Blog Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"admin\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"admin\",\n            children: \"Blog Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"email\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"account\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"account\",\n            children: \"account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"createdAt\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"createdAt\",\n            children: \"created At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          dataKey: \"updatedAt\",\n          width: width,\n          children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n            id: \"updatedAt\",\n            children: \"updated At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Cell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(BlogListPreprodScreen, \"8Obr2FIU8aE0ji1p//lkKdOYryE=\", false, function () {\n  return [useToast, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = BlogListPreprodScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogListPreprodScreen\");","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/simple-app-archive/src/screens/BlogPreprod/BlogPreprodListScreen/BlogPreprodListScreen.js"],"names":["React","useState","useEffect","useCallback","useDispatch","useSelector","deleteBlogPreprod","listBlogsPreprod","BLOG_DELETE_RESET","BLOG_DETAILS_RESET","POST_DELETE_RESET","Section","AddButton","Table","Column","getEmptySelection","getSelectionOnAction","Cell","HeaderCell","FlatButton","sleep","orderBy","DateCell","DateTimeCell","Resource","TextField","Row","Icon","Spinner","StatusIndication","NavLink","Radio","RadioGroup","useToast","BlogListPreprodScreen","props","addToast","console","log","rawData","setRawData","view","setView","data","blogDeleted","setBlogDeleted","rowSelection","setRowSelection","allSelected","items","exceptItems","width","blogList","state","loading","error","blogs","blogDelete","loadingDelete","errorDelete","success","successDelete","userData","userInfoData","accountData","loadingUserData","errorUserData","dispatch","danger","type","selectionSize","length","size","handleRowCheckChange","action","selection","deleteBlogHandler","blogId","handleClearSelection","handleDelete","window","confirm","forEach","item","handleRowClick","args","rowData","id","children","history","push","marginLeft","BtnTrash","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteBlogPreprod,\n  listBlogsPreprod,\n} from \"../../../actions/blogActions\";\nimport {\n  BLOG_DELETE_RESET,\n  BLOG_DETAILS_RESET,\n  POST_DELETE_RESET,\n} from \"../../../constants/blogConstants\";\n\nimport Section from \"@guestyci/foundation/legacy/Section\";\nimport AddButton from \"@guestyci/foundation/AddButton\";\n\nimport Table, { Column } from \"@guestyci/foundation/legacy/Table\";\nimport {\n  getEmptySelection,\n  getSelectionOnAction,\n} from \"@guestyci/foundation/legacy/Table/tableUtility\";\nimport Cell from \"@guestyci/foundation/legacy/Table/Cell\";\nimport HeaderCell from \"@guestyci/foundation/legacy/Table/HeaderCell\";\nimport FlatButton from \"@guestyci/foundation/legacy/FlatButton\";\n\nimport { sleep } from \"@guestyci/foundation/utils/commonUtility\";\n\nimport orderBy from \"lodash/orderBy\";\n\nimport DateCell from \"@guestyci/foundation/legacy/Table/DateCell\";\nimport DateTimeCell from \"@guestyci/foundation/legacy/Table/DateTimeCell\";\n\n// import data from '../../../__mocks__/tableData';\n\nimport Resource from \"@guestyci/agni\";\n\nimport TextField from \"@guestyci/foundation/TextField\";\nimport { Row } from \"@guestyci/foundation/Layout\";\nimport { ReactComponent as BtnTrash } from \"@guestyci/foundation/icons/BtnTrash.svg\";\nimport Icon from \"@guestyci/foundation/Icon\";\n\nimport Spinner from \"@guestyci/foundation/Spinner\";\nimport StatusIndication from \"@guestyci/foundation/StatusIndication\";\nimport { NavLink } from \"react-router-dom\";\n\nimport Radio from \"@guestyci/foundation/Radio\";\nimport RadioGroup from \"@guestyci/foundation/RadioGroup\";\n\nimport { useToast } from \"@guestyci/foundation/Toast\";\n\nexport default function BlogListPreprodScreen(props) {\n  const { addToast } = useToast();\n\n  console.log(\"props:\", props);\n  const [rawData, setRawData] = useState();\n  // const [data, setData] = useState();\n  const [view, setView] = useState(\"all\");\n\n  let data;\n\n  const [blogDeleted, setBlogDeleted] = useState(false);\n\n  const [rowSelection, setRowSelection] = useState(getEmptySelection());\n  const { allSelected, items, exceptItems } = rowSelection;\n\n  const width = 200;\n  // const pageSize = 25;\n  // const scrollOffset = data ? data.length : 100;\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [skip, setSkip] = useState(0);\n\n  const blogList = useSelector((state) => state.blogList);\n  const { loading, error, blogs } = blogList;\n  // console.log(\"blogs:\", blogs);\n  data = blogs;\n\n  const blogDelete = useSelector((state) => state.blogDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = blogDelete;\n\n  const userData = useSelector((state) => state.userData);\n  const {\n    userInfoData,\n    accountData,\n    loading: loadingUserData,\n    error: errorUserData,\n  } = userData;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (errorDelete) {\n      addToast.danger(\n        \"error deleting the blog, only blog admin can delete the blog\"\n      );\n\n      dispatch({\n        type: BLOG_DELETE_RESET,\n      });\n    } else if (successDelete) {\n      addToast.success(\"blog was delete\");\n      dispatch({ type: BLOG_DELETE_RESET });\n    }\n    dispatch(listBlogsPreprod(view));\n    // dispatch({\n    //   type: BLOG_DETAILS_RESET,\n    // });\n  }, [dispatch, successDelete, errorDelete, view]);\n\n  // const deleteHandler = (blog) => {\n  //   console.log(\"blog:\", blog);\n  //   if (window.confirm(\"Are you sure?\")) {\n  //     dispatch(deleteBlog(blog._id));\n  //   }\n  // };\n\n  // const classes = useStyles();\n\n  // const selectionSize =\n  //   allSelected && data.length > 0\n  //     ? data.length - exceptItems.size\n  //     : items.size;\n  const selectionSize =\n    view === \"account\" && data && data.length > 0 && items ? items.size : 0;\n\n  const handleRowCheckChange = (action) => {\n    console.log(\"handleRowCheckChange\");\n    // console.log('action:', action);\n\n    const selection = getSelectionOnAction({ rowSelection, action, data });\n    console.log(\"rowSelection:\", rowSelection);\n    console.log(\"action:\", action);\n    console.log(\"data:\", data);\n    // console.log('selection:', selection);\n    setRowSelection(selection);\n  };\n\n  const deleteBlogHandler = async (blogId) => {\n    console.log(\"deleteBlogHandler\");\n    try {\n      // const response = await api.delete(`/blogs/${blogId}`); // will go to `${config.MAILER_URL}/blogs`\n      // console.log('response:', response);\n      // const data = response.data;\n      // addToast.success('blog was delete')\n      // props.history.push('/');\n      dispatch(deleteBlogPreprod(blogId));\n\n      setBlogDeleted(true);\n\n      handleClearSelection();\n    } catch (error) {\n      console.log(\"error:\", error);\n      addToast.danger(\"error deleting the blog\");\n    }\n  };\n  // useEffect(() => {\n  //   dispatch({ type: POST_DELETE_RESET });\n  //   dispatch({ type: BLOG_DELETE_RESET });\n  // }, []);\n\n  const handleDelete = () => {\n    console.log(\"rowSelection.items: \", rowSelection.items);\n\n    if (window.confirm(\"Are you sure?\")) {\n      rowSelection.items.forEach((item) => deleteBlogHandler(item));\n    }\n  };\n\n  const handleClearSelection = () => {\n    console.log(\"handleClearSelection\");\n    setRowSelection(getEmptySelection());\n  };\n\n  const handleRowClick = (...args) => {\n    console.log(\"handleRowClick\", ...args);\n\n    const rowData = { ...args };\n    console.log(\"rowData:\", rowData);\n    console.log(\"rowData:\", rowData[0].id.children);\n\n    const blogId = rowData[0].id.children;\n    // console.log('args:', args.id)\n\n    // props.history.push(\"www.google.com\")\n\n    props.history.push(`/blog/preprod/edit/${blogId}`);\n  };\n\n  return (\n    <>\n      {/* {console.log(\"data:\", data)} */}\n      {loading && <Spinner size={80} strokeWidth={6} />}\n      {error && (\n        <StatusIndication variant=\"danger\" text=\"error getting the data \" />\n      )}\n      {userInfoData ? (\n        <Section gutter={2}>\n          {\n            <AddButton\n              onClick={() => props.history.push(`/blog/preprod/add`)}\n              text=\"Add Blog\"\n            />\n          }\n        </Section>\n      ) : (\n        <NavLink\n          to=\"/user/signin\"\n          // activeStyle={activeStyle}\n          style={{ marginLeft: \"20px\" }}\n          exact\n        >\n          sign in to create a new blog\n        </NavLink>\n      )}\n      {data && (\n        <Section col className=\"bg-white\">\n          {view === \"account\" && selectionSize > 0 && (\n            <Row spacing={4}>\n              <FlatButton\n                onClick={handleClearSelection}\n                disabled={!selectionSize}\n              >\n                {`Unselect ${selectionSize || \"\"}`}\n              </FlatButton>\n\n              {selectionSize > 0 && (\n                <>\n                  <FlatButton type=\"error\" onClick={handleDelete}>\n                    <Row align=\"center\" spacing={2}>\n                      <Icon svg={BtnTrash} />\n                      <TextField> Delete</TextField>\n                    </Row>\n                  </FlatButton>\n                </>\n              )}\n            </Row>\n          )}\n\n          {userInfoData && (\n            <RadioGroup\n              name=\"view\"\n              inline\n              onChange={(e) => setView(e.target.value)}\n              value={view}\n            >\n              <Radio value=\"account\">Account Blogs</Radio>\n              <Radio value=\"all\">All Blogs</Radio>\n            </RadioGroup>\n          )}\n\n          {console.log(\"rowSelection: \", rowSelection)}\n\n          {view === \"account\" && (\n            <Table\n              multiselect\n              height={500}\n              data={blogs}\n              // isLoading={isLoading}\n              // pageSize={pageSize}\n              rowSelection={rowSelection}\n              onCheckedRowsChange={handleRowCheckChange}\n              onRowClick={handleRowClick}\n              // infiniteScrollOptions={{\n              //   skip,\n              //   scrollOffset,\n              //   onLoadMore: handleLoadMore,\n              //   totalCount: semiInfiniteData.length,\n              // }}\n              // sortBy={sortBy}\n              // onSort={handleSort}\n            >\n              {/* <Column align=\"left\" dataKey=\"id\" width={width} sortable>\n                <HeaderCell id=\"id\">Id</HeaderCell>\n                <Cell />\n              </Column> */}\n              <Column dataKey=\"title\" width={width}>\n                <HeaderCell id=\"title\">Blog Name</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"admin\" width={width}>\n                <HeaderCell id=\"admin\">Blog Admin</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"email\" width={width}>\n                <HeaderCell id=\"email\">Email</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"account\" width={width}>\n                <HeaderCell id=\"account\">account</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"createdAt\" width={width}>\n                <HeaderCell id=\"createdAt\">created At</HeaderCell>\n                <Cell />\n              </Column>\n\n              <Column dataKey=\"updatedAt\" width={width}>\n                <HeaderCell id=\"updatedAt\">updated At</HeaderCell>\n                <Cell />\n              </Column>\n\n              {/* <Column dataKey=\"periodStartDate\" width={width} sortable>\n              <HeaderCell id=\"startdate\">Date Cell</HeaderCell>\n              <DateCell />\n            </Column>\n            <Column dataKey=\"periodEndDate\" width={width} sortable>\n              <HeaderCell id=\"enddate\">DateTime Cell</HeaderCell>\n              <DateTimeCell />\n            </Column> */}\n            </Table>\n          )}\n\n          {view === \"all\" && (\n            <Table\n              height={500}\n              data={blogs}\n              rowSelection={rowSelection}\n              onCheckedRowsChange={handleRowCheckChange}\n              onRowClick={handleRowClick}\n            >\n              {/* <Column align=\"left\" dataKey=\"id\" width={width} sortable>\n                <HeaderCell id=\"id\">Id</HeaderCell>\n                <Cell />\n              </Column> */}\n              <Column dataKey=\"title\" width={width}>\n                <HeaderCell id=\"title\">Blog Name</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"admin\" width={width}>\n                <HeaderCell id=\"admin\">Blog Admin</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"email\" width={width}>\n                <HeaderCell id=\"email\">Email</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"account\" width={width}>\n                <HeaderCell id=\"account\">account</HeaderCell>\n                <Cell />\n              </Column>\n              <Column dataKey=\"createdAt\" width={width}>\n                <HeaderCell id=\"createdAt\">created At</HeaderCell>\n                <Cell />\n              </Column>\n\n              <Column dataKey=\"updatedAt\" width={width}>\n                <HeaderCell id=\"updatedAt\">updated At</HeaderCell>\n                <Cell />\n              </Column>\n\n              {/* <Column dataKey=\"periodStartDate\" width={width} sortable>\n              <HeaderCell id=\"startdate\">Date Cell</HeaderCell>\n              <DateCell />\n            </Column>\n            <Column dataKey=\"periodEndDate\" width={width} sortable>\n              <HeaderCell id=\"enddate\">DateTime Cell</HeaderCell>\n              <DateTimeCell />\n            </Column> */}\n            </Table>\n          )}\n        </Section>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}