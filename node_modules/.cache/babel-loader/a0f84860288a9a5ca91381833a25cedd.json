{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport noop from 'lodash/noop';\nimport cn from 'classnames';\nimport createStyles from \"../createStyles\";\nimport useFocus from \"../useFocus\";\nimport { isEmpty } from \"../utils\";\nimport Input from \"../Input\";\nimport Row from \"../Layout/Row\";\nimport NumberPickerArrows from \"./NumberPickerArrows\";\nimport PickerResetWrapper from \"../basePicker/PickerResetWrapper\";\nimport InputStyles from \"../Input/styles\";\nvar affixesContainer = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  minWidth: '46px',\n  height: '44px'\n};\nexport var useStyles = createStyles(function (theme) {\n  return {\n    root: {\n      height: '46px',\n      borderRadius: '2px',\n      border: \"solid 1px \".concat(theme.palette.border),\n      color: \"\".concat(theme.palette.text.input, \" !important\"),\n      transition: theme.transition.create(),\n      '&:hover': InputStyles.hover(theme)\n    },\n    focused: InputStyles.focused(theme),\n    disabled: InputStyles.disabled(theme),\n    error: InputStyles.error(theme),\n    input: {\n      borderStyle: 'none',\n      '&:hover': {\n        borderStyle: 'none'\n      },\n      height: '100%'\n    },\n    inputWithSuffix: {\n      paddingRight: 0\n    },\n    inputWithPrefix: {\n      paddingLeft: 0\n    },\n    prefixContainer: _extends({}, affixesContainer, {\n      borderRight: \"solid 1px \".concat(theme.palette.border),\n      marginRight: theme.spacer(3)\n    }),\n    suffixContainer: _extends({}, affixesContainer, {\n      borderLeft: \"solid 1px \".concat(theme.palette.border),\n      marginLeft: theme.spacer(3)\n    })\n  };\n}, {\n  name: 'NumberPicker'\n});\nvar inputJssOverride = {\n  focused: {\n    borderStyle: 'none',\n    boxShadow: 'none'\n  },\n  disabled: {\n    cursor: 'not-allowed',\n    '&:hover': {\n      borderStyle: 'none'\n    }\n  }\n};\nvar NumberPicker = React.forwardRef(function NumberPicker(_ref, ref) {\n  var name = _ref.name,\n      value = _ref.value,\n      defaultValue = _ref.defaultValue,\n      placeholder = _ref.placeholder,\n      step = _ref.step,\n      min = _ref.min,\n      max = _ref.max,\n      onChange = _ref.onChange,\n      disabled = _ref.disabled,\n      resetable = _ref.resetable,\n      prefix = _ref.prefix,\n      suffix = _ref.suffix,\n      jss = _ref.jss,\n      error = _ref.error,\n      style = _ref.style,\n      className = _ref.className,\n      otherInputProps = _objectWithoutProperties(_ref, [\"name\", \"value\", \"defaultValue\", \"placeholder\", \"step\", \"min\", \"max\", \"onChange\", \"disabled\", \"resetable\", \"prefix\", \"suffix\", \"jss\", \"error\", \"style\", \"className\"]);\n\n  var classes = useStyles({\n    jss: jss\n  });\n\n  var _useFocus = useFocus(),\n      _useFocus2 = _slicedToArray(_useFocus, 2),\n      focused = _useFocus2[0],\n      focusRef = _useFocus2[1];\n\n  var isValidValue = function isValidValue(v) {\n    var numberRegex = RegExp('(^-?([1-9]\\\\d*|0)?(?:\\\\.(\\\\d+)?)?$)');\n    return numberRegex.test(v);\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    var newValue = e.target.value;\n\n    if (isValidValue(newValue)) {\n      onChange(e);\n    }\n  };\n\n  var manipulateEvent = function manipulateEvent(event, newValue) {\n    event.persist();\n    Object.defineProperty(event, 'target', {\n      value: {\n        value: \"\".concat(newValue),\n        name: name\n      }\n    });\n    return event;\n  };\n\n  var formatFloat = function formatFloat(n) {\n    return parseFloat(n.toFixed(4));\n  };\n\n  var getIncValue = function getIncValue() {\n    var numericValue = Number(value);\n\n    if (isEmpty(value) || Number.isNaN(numericValue)) {\n      return Number(defaultValue || 0) + step;\n    }\n\n    if (numericValue < min) {\n      return min;\n    }\n\n    return formatFloat(Math.round(numericValue / step) * step + step);\n  };\n\n  var getDecValue = function getDecValue() {\n    var numericValue = Number(value);\n\n    if (isEmpty(value) || Number.isNaN(numericValue)) {\n      return Number(defaultValue || 0) - step;\n    }\n\n    if (numericValue > max) {\n      return max;\n    }\n\n    return formatFloat(Math.round(numericValue / step) * step - step);\n  };\n\n  var disableInc = disabled || getIncValue() > max;\n  var disableDec = disabled || getDecValue() < min;\n\n  var handleInc = function handleInc(event) {\n    return onChange(manipulateEvent(event, getIncValue()));\n  };\n\n  var handleDec = function handleDec(event) {\n    return onChange(manipulateEvent(event, getDecValue()));\n  };\n\n  var handleReset = function handleReset(event) {\n    onChange(manipulateEvent(event, defaultValue));\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    fullWidth: true,\n    wrap: false,\n    align: \"center\",\n    spacing: 0,\n    ref: ref,\n    className: cn(classes.root, _defineProperty({}, classes.focused, focused), _defineProperty({}, classes.disabled, disabled), _defineProperty({}, classes.error, error), className),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerResetWrapper, {\n    resetable: resetable,\n    onReset: handleReset,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(Input, _extends({\n    name: name,\n    ref: focusRef,\n    prefix: prefix && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.prefixContainer\n    }, prefix),\n    suffix: suffix && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.suffixContainer\n    }, suffix),\n    className: cn(classes.input, _defineProperty({}, classes.inputWithPrefix, prefix), _defineProperty({}, classes.inputWithSuffix, suffix)),\n    placeholder: placeholder,\n    disabled: disabled,\n    onChange: handleInputChange,\n    value: value,\n    jss: inputJssOverride\n  }, otherInputProps)), /*#__PURE__*/React.createElement(NumberPickerArrows, {\n    disableDec: disableDec,\n    disableInc: disableInc,\n    onInc: handleInc,\n    onDec: handleDec\n  })));\n});\nNumberPicker.defaultProps = {\n  name: undefined,\n  value: undefined,\n  defaultValue: '',\n  placeholder: undefined,\n  step: 1,\n  min: undefined,\n  max: undefined,\n  onChange: noop,\n  disabled: false,\n  resetable: false,\n  prefix: undefined,\n  suffix: undefined,\n  error: false,\n  jss: undefined,\n  style: undefined,\n  className: undefined\n};\nNumberPicker.propTypes = {\n  /** Number picker name to be set */\n  name: PropTypes.string,\n\n  /** value to be set */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** default value to be set - will be used when for reset, and inc/dec while value is not set */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([''])]),\n\n  /** Input placeholder text */\n  placeholder: PropTypes.string,\n\n  /** step that will be applied when incrementing and decrementing */\n  step: PropTypes.number,\n\n  /** min value to be set */\n  min: PropTypes.number,\n\n  /** max value to be set */\n  max: PropTypes.number,\n\n  /** Function to be called on input value change */\n  onChange: PropTypes.func,\n\n  /** Disable state in which input interaction is not available */\n  disabled: PropTypes.bool,\n\n  /** Define if the value can be reset */\n  resetable: PropTypes.bool,\n\n  /** Input class */\n  className: PropTypes.string,\n\n  /** String Or React Element to be shown before the input */\n  prefix: PropTypes.node,\n\n  /** String Or React Element to be shown after the input */\n  suffix: PropTypes.node,\n\n  /** Indicator for form error state  */\n  error: PropTypes.bool,\n\n  /** jss override object to customize the jss classes */\n  jss: PropTypes.oneOfType([PropTypes.shape(), PropTypes.func]),\n\n  /** Additional styles */\n  style: PropTypes.shape()\n};\nexport default NumberPicker;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/simple-app-archive/node_modules/@guestyci/foundation/esm/NumberPicker/NumberPicker.js"],"names":["_defineProperty","_slicedToArray","_objectWithoutProperties","_extends","React","PropTypes","noop","cn","createStyles","useFocus","isEmpty","Input","Row","NumberPickerArrows","PickerResetWrapper","InputStyles","affixesContainer","display","justifyContent","alignItems","minWidth","height","useStyles","theme","root","borderRadius","border","concat","palette","color","text","input","transition","create","hover","focused","disabled","error","borderStyle","inputWithSuffix","paddingRight","inputWithPrefix","paddingLeft","prefixContainer","borderRight","marginRight","spacer","suffixContainer","borderLeft","marginLeft","name","inputJssOverride","boxShadow","cursor","NumberPicker","forwardRef","_ref","ref","value","defaultValue","placeholder","step","min","max","onChange","resetable","prefix","suffix","jss","style","className","otherInputProps","classes","_useFocus","_useFocus2","focusRef","isValidValue","v","numberRegex","RegExp","test","handleInputChange","e","newValue","target","manipulateEvent","event","persist","Object","defineProperty","formatFloat","n","parseFloat","toFixed","getIncValue","numericValue","Number","isNaN","Math","round","getDecValue","disableInc","disableDec","handleInc","handleDec","handleReset","createElement","fullWidth","wrap","align","spacing","onReset","onInc","onDec","defaultProps","undefined","propTypes","string","oneOfType","number","oneOf","func","bool","node","shape"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport noop from 'lodash/noop';\nimport cn from 'classnames';\nimport createStyles from \"../createStyles\";\nimport useFocus from \"../useFocus\";\nimport { isEmpty } from \"../utils\";\nimport Input from \"../Input\";\nimport Row from \"../Layout/Row\";\nimport NumberPickerArrows from \"./NumberPickerArrows\";\nimport PickerResetWrapper from \"../basePicker/PickerResetWrapper\";\nimport InputStyles from \"../Input/styles\";\nvar affixesContainer = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  minWidth: '46px',\n  height: '44px'\n};\nexport var useStyles = createStyles(function (theme) {\n  return {\n    root: {\n      height: '46px',\n      borderRadius: '2px',\n      border: \"solid 1px \".concat(theme.palette.border),\n      color: \"\".concat(theme.palette.text.input, \" !important\"),\n      transition: theme.transition.create(),\n      '&:hover': InputStyles.hover(theme)\n    },\n    focused: InputStyles.focused(theme),\n    disabled: InputStyles.disabled(theme),\n    error: InputStyles.error(theme),\n    input: {\n      borderStyle: 'none',\n      '&:hover': {\n        borderStyle: 'none'\n      },\n      height: '100%'\n    },\n    inputWithSuffix: {\n      paddingRight: 0\n    },\n    inputWithPrefix: {\n      paddingLeft: 0\n    },\n    prefixContainer: _extends({}, affixesContainer, {\n      borderRight: \"solid 1px \".concat(theme.palette.border),\n      marginRight: theme.spacer(3)\n    }),\n    suffixContainer: _extends({}, affixesContainer, {\n      borderLeft: \"solid 1px \".concat(theme.palette.border),\n      marginLeft: theme.spacer(3)\n    })\n  };\n}, {\n  name: 'NumberPicker'\n});\nvar inputJssOverride = {\n  focused: {\n    borderStyle: 'none',\n    boxShadow: 'none'\n  },\n  disabled: {\n    cursor: 'not-allowed',\n    '&:hover': {\n      borderStyle: 'none'\n    }\n  }\n};\nvar NumberPicker = React.forwardRef(function NumberPicker(_ref, ref) {\n  var name = _ref.name,\n      value = _ref.value,\n      defaultValue = _ref.defaultValue,\n      placeholder = _ref.placeholder,\n      step = _ref.step,\n      min = _ref.min,\n      max = _ref.max,\n      onChange = _ref.onChange,\n      disabled = _ref.disabled,\n      resetable = _ref.resetable,\n      prefix = _ref.prefix,\n      suffix = _ref.suffix,\n      jss = _ref.jss,\n      error = _ref.error,\n      style = _ref.style,\n      className = _ref.className,\n      otherInputProps = _objectWithoutProperties(_ref, [\"name\", \"value\", \"defaultValue\", \"placeholder\", \"step\", \"min\", \"max\", \"onChange\", \"disabled\", \"resetable\", \"prefix\", \"suffix\", \"jss\", \"error\", \"style\", \"className\"]);\n\n  var classes = useStyles({\n    jss: jss\n  });\n\n  var _useFocus = useFocus(),\n      _useFocus2 = _slicedToArray(_useFocus, 2),\n      focused = _useFocus2[0],\n      focusRef = _useFocus2[1];\n\n  var isValidValue = function isValidValue(v) {\n    var numberRegex = RegExp('(^-?([1-9]\\\\d*|0)?(?:\\\\.(\\\\d+)?)?$)');\n    return numberRegex.test(v);\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    var newValue = e.target.value;\n\n    if (isValidValue(newValue)) {\n      onChange(e);\n    }\n  };\n\n  var manipulateEvent = function manipulateEvent(event, newValue) {\n    event.persist();\n    Object.defineProperty(event, 'target', {\n      value: {\n        value: \"\".concat(newValue),\n        name: name\n      }\n    });\n    return event;\n  };\n\n  var formatFloat = function formatFloat(n) {\n    return parseFloat(n.toFixed(4));\n  };\n\n  var getIncValue = function getIncValue() {\n    var numericValue = Number(value);\n\n    if (isEmpty(value) || Number.isNaN(numericValue)) {\n      return Number(defaultValue || 0) + step;\n    }\n\n    if (numericValue < min) {\n      return min;\n    }\n\n    return formatFloat(Math.round(numericValue / step) * step + step);\n  };\n\n  var getDecValue = function getDecValue() {\n    var numericValue = Number(value);\n\n    if (isEmpty(value) || Number.isNaN(numericValue)) {\n      return Number(defaultValue || 0) - step;\n    }\n\n    if (numericValue > max) {\n      return max;\n    }\n\n    return formatFloat(Math.round(numericValue / step) * step - step);\n  };\n\n  var disableInc = disabled || getIncValue() > max;\n  var disableDec = disabled || getDecValue() < min;\n\n  var handleInc = function handleInc(event) {\n    return onChange(manipulateEvent(event, getIncValue()));\n  };\n\n  var handleDec = function handleDec(event) {\n    return onChange(manipulateEvent(event, getDecValue()));\n  };\n\n  var handleReset = function handleReset(event) {\n    onChange(manipulateEvent(event, defaultValue));\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    fullWidth: true,\n    wrap: false,\n    align: \"center\",\n    spacing: 0,\n    ref: ref,\n    className: cn(classes.root, _defineProperty({}, classes.focused, focused), _defineProperty({}, classes.disabled, disabled), _defineProperty({}, classes.error, error), className),\n    style: style\n  }, /*#__PURE__*/React.createElement(PickerResetWrapper, {\n    resetable: resetable,\n    onReset: handleReset,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(Input, _extends({\n    name: name,\n    ref: focusRef,\n    prefix: prefix && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.prefixContainer\n    }, prefix),\n    suffix: suffix && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.suffixContainer\n    }, suffix),\n    className: cn(classes.input, _defineProperty({}, classes.inputWithPrefix, prefix), _defineProperty({}, classes.inputWithSuffix, suffix)),\n    placeholder: placeholder,\n    disabled: disabled,\n    onChange: handleInputChange,\n    value: value,\n    jss: inputJssOverride\n  }, otherInputProps)), /*#__PURE__*/React.createElement(NumberPickerArrows, {\n    disableDec: disableDec,\n    disableInc: disableInc,\n    onInc: handleInc,\n    onDec: handleDec\n  })));\n});\nNumberPicker.defaultProps = {\n  name: undefined,\n  value: undefined,\n  defaultValue: '',\n  placeholder: undefined,\n  step: 1,\n  min: undefined,\n  max: undefined,\n  onChange: noop,\n  disabled: false,\n  resetable: false,\n  prefix: undefined,\n  suffix: undefined,\n  error: false,\n  jss: undefined,\n  style: undefined,\n  className: undefined\n};\nNumberPicker.propTypes = {\n  /** Number picker name to be set */\n  name: PropTypes.string,\n\n  /** value to be set */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** default value to be set - will be used when for reset, and inc/dec while value is not set */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([''])]),\n\n  /** Input placeholder text */\n  placeholder: PropTypes.string,\n\n  /** step that will be applied when incrementing and decrementing */\n  step: PropTypes.number,\n\n  /** min value to be set */\n  min: PropTypes.number,\n\n  /** max value to be set */\n  max: PropTypes.number,\n\n  /** Function to be called on input value change */\n  onChange: PropTypes.func,\n\n  /** Disable state in which input interaction is not available */\n  disabled: PropTypes.bool,\n\n  /** Define if the value can be reset */\n  resetable: PropTypes.bool,\n\n  /** Input class */\n  className: PropTypes.string,\n\n  /** String Or React Element to be shown before the input */\n  prefix: PropTypes.node,\n\n  /** String Or React Element to be shown after the input */\n  suffix: PropTypes.node,\n\n  /** Indicator for form error state  */\n  error: PropTypes.bool,\n\n  /** jss override object to customize the jss classes */\n  jss: PropTypes.oneOfType([PropTypes.shape(), PropTypes.func]),\n\n  /** Additional styles */\n  style: PropTypes.shape()\n};\nexport default NumberPicker;"]},"metadata":{},"sourceType":"module"}