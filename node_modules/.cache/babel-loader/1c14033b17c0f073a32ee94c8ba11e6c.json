{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nfunction useDrag(payload, onDrop) {\n  var isDraggable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var dragRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isDragging = _useState2[0],\n      setIsDragging = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDragOver = _useState4[0],\n      setIsDragOver = _useState4[1];\n\n  var handleDragStart = useCallback(function (e) {\n    e.stopPropagation();\n    e.dataTransfer.setData('text', JSON.stringify(payload));\n    e.dataTransfer.dropEffect = 'move';\n    setIsDragging(true);\n    setIsDragOver(false);\n  }, [payload, setIsDragging, setIsDragOver]);\n  var handleDragOver = useCallback(function (e) {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, [setIsDragOver]);\n  var handleDragDrop = useCallback(function (e) {\n    e.preventDefault();\n    var data = JSON.parse(e.dataTransfer.getData('text'));\n    setIsDragging(false);\n    setIsDragOver(false);\n\n    if (onDrop) {\n      onDrop({\n        sourceData: data,\n        targetData: payload\n      });\n    }\n  }, [payload, onDrop, setIsDragOver, setIsDragging]);\n  useEffect(function () {\n    var node = dragRef.current;\n\n    if (node && isDraggable) {\n      node.draggable = true;\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('drop', handleDragDrop);\n      node.addEventListener('dragover', handleDragOver);\n      return function () {\n        node.draggable = false;\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('drop', handleDragDrop);\n        node.removeEventListener('dragover', handleDragOver);\n      };\n    }\n  }, [payload, isDraggable, handleDragDrop, handleDragStart, handleDragOver]);\n  return [{\n    isDragging: isDragging,\n    isDragOver: isDragOver\n  }, dragRef];\n}\n\nexport default useDrag;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/simple-app-archive/node_modules/@guestyci/foundation/esm/useDrag/useDrag.js"],"names":["_slicedToArray","useCallback","useEffect","useRef","useState","useDrag","payload","onDrop","isDraggable","arguments","length","undefined","dragRef","_useState","_useState2","isDragging","setIsDragging","_useState3","_useState4","isDragOver","setIsDragOver","handleDragStart","e","stopPropagation","dataTransfer","setData","JSON","stringify","dropEffect","handleDragOver","preventDefault","handleDragDrop","data","parse","getData","sourceData","targetData","node","current","draggable","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nfunction useDrag(payload, onDrop) {\n  var isDraggable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var dragRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isDragging = _useState2[0],\n      setIsDragging = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDragOver = _useState4[0],\n      setIsDragOver = _useState4[1];\n\n  var handleDragStart = useCallback(function (e) {\n    e.stopPropagation();\n    e.dataTransfer.setData('text', JSON.stringify(payload));\n    e.dataTransfer.dropEffect = 'move';\n    setIsDragging(true);\n    setIsDragOver(false);\n  }, [payload, setIsDragging, setIsDragOver]);\n  var handleDragOver = useCallback(function (e) {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, [setIsDragOver]);\n  var handleDragDrop = useCallback(function (e) {\n    e.preventDefault();\n    var data = JSON.parse(e.dataTransfer.getData('text'));\n    setIsDragging(false);\n    setIsDragOver(false);\n\n    if (onDrop) {\n      onDrop({\n        sourceData: data,\n        targetData: payload\n      });\n    }\n  }, [payload, onDrop, setIsDragOver, setIsDragging]);\n  useEffect(function () {\n    var node = dragRef.current;\n\n    if (node && isDraggable) {\n      node.draggable = true;\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('drop', handleDragDrop);\n      node.addEventListener('dragover', handleDragOver);\n      return function () {\n        node.draggable = false;\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('drop', handleDragDrop);\n        node.removeEventListener('dragover', handleDragOver);\n      };\n    }\n  }, [payload, isDraggable, handleDragDrop, handleDragStart, handleDragOver]);\n  return [{\n    isDragging: isDragging,\n    isDragOver: isDragOver\n  }, dragRef];\n}\n\nexport default useDrag;"]},"metadata":{},"sourceType":"module"}