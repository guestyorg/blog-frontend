{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\n\nfunction useResize(_ref) {\n  var _ref$startWidth = _ref.startWidth,\n      startWidth = _ref$startWidth === void 0 ? 0 : _ref$startWidth,\n      _ref$minWidth = _ref.minWidth,\n      minWidth = _ref$minWidth === void 0 ? 85 : _ref$minWidth,\n      _ref$isResizable = _ref.isResizable,\n      isResizable = _ref$isResizable === void 0 ? true : _ref$isResizable,\n      id = _ref.id,\n      onResizeEnd = _ref.onResizeEnd;\n  var resizeRef = useRef({});\n\n  var _useState = useState(startWidth),\n      _useState2 = _slicedToArray(_useState, 2),\n      width = _useState2[0],\n      setWidth = _useState2[1];\n\n  var handleResize = function handleResize(e) {\n    e.preventDefault();\n    var node = resizeRef.current;\n    var isDragging = node.isDragging,\n        startX = node.startX,\n        dragStartWidth = node.dragStartWidth;\n\n    if (isDragging) {\n      var calculatedWidth = Math.max(dragStartWidth + (e.pageX - startX), minWidth);\n\n      if (width !== calculatedWidth) {\n        setWidth(calculatedWidth);\n      }\n\n      node.cachedWidth = calculatedWidth;\n    }\n  };\n\n  var handleResizeEnd = function handleResizeEnd(e) {\n    var node = resizeRef.current;\n    node.startX = e.pageX;\n    node.isDragging = false;\n    node.dragStartWidth = node.cachedWidth;\n    onResizeEnd(_defineProperty({}, id, node.cachedWidth));\n    document.removeEventListener('mousemove', handleResize);\n    document.removeEventListener('mouseup', handleResizeEnd);\n  };\n\n  var handleResizeStart = function handleResizeStart(e) {\n    e.preventDefault();\n    var node = resizeRef.current;\n    node.isDragging = true;\n    node.startX = e.pageX;\n    node.dragStartWidth = node.dragStartWidth || width;\n    document.addEventListener('mousemove', handleResize);\n    document.addEventListener('mouseup', handleResizeEnd);\n  };\n\n  useEffect(function () {\n    var node = resizeRef.current;\n\n    if (node && isResizable) {\n      node.addEventListener('mousedown', handleResizeStart);\n      return function () {\n        node.removeEventListener('mousedown', handleResizeStart);\n      };\n    }\n  }, [isResizable]);\n  return [width, resizeRef];\n}\n\nexport default useResize;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/simple-app-archive/node_modules/@guestyci/foundation/esm/useResize/useResize.js"],"names":["_defineProperty","_slicedToArray","useEffect","useRef","useState","useResize","_ref","_ref$startWidth","startWidth","_ref$minWidth","minWidth","_ref$isResizable","isResizable","id","onResizeEnd","resizeRef","_useState","_useState2","width","setWidth","handleResize","e","preventDefault","node","current","isDragging","startX","dragStartWidth","calculatedWidth","Math","max","pageX","cachedWidth","handleResizeEnd","document","removeEventListener","handleResizeStart","addEventListener"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\n\nfunction useResize(_ref) {\n  var _ref$startWidth = _ref.startWidth,\n      startWidth = _ref$startWidth === void 0 ? 0 : _ref$startWidth,\n      _ref$minWidth = _ref.minWidth,\n      minWidth = _ref$minWidth === void 0 ? 85 : _ref$minWidth,\n      _ref$isResizable = _ref.isResizable,\n      isResizable = _ref$isResizable === void 0 ? true : _ref$isResizable,\n      id = _ref.id,\n      onResizeEnd = _ref.onResizeEnd;\n  var resizeRef = useRef({});\n\n  var _useState = useState(startWidth),\n      _useState2 = _slicedToArray(_useState, 2),\n      width = _useState2[0],\n      setWidth = _useState2[1];\n\n  var handleResize = function handleResize(e) {\n    e.preventDefault();\n    var node = resizeRef.current;\n    var isDragging = node.isDragging,\n        startX = node.startX,\n        dragStartWidth = node.dragStartWidth;\n\n    if (isDragging) {\n      var calculatedWidth = Math.max(dragStartWidth + (e.pageX - startX), minWidth);\n\n      if (width !== calculatedWidth) {\n        setWidth(calculatedWidth);\n      }\n\n      node.cachedWidth = calculatedWidth;\n    }\n  };\n\n  var handleResizeEnd = function handleResizeEnd(e) {\n    var node = resizeRef.current;\n    node.startX = e.pageX;\n    node.isDragging = false;\n    node.dragStartWidth = node.cachedWidth;\n    onResizeEnd(_defineProperty({}, id, node.cachedWidth));\n    document.removeEventListener('mousemove', handleResize);\n    document.removeEventListener('mouseup', handleResizeEnd);\n  };\n\n  var handleResizeStart = function handleResizeStart(e) {\n    e.preventDefault();\n    var node = resizeRef.current;\n    node.isDragging = true;\n    node.startX = e.pageX;\n    node.dragStartWidth = node.dragStartWidth || width;\n    document.addEventListener('mousemove', handleResize);\n    document.addEventListener('mouseup', handleResizeEnd);\n  };\n\n  useEffect(function () {\n    var node = resizeRef.current;\n\n    if (node && isResizable) {\n      node.addEventListener('mousedown', handleResizeStart);\n      return function () {\n        node.removeEventListener('mousedown', handleResizeStart);\n      };\n    }\n  }, [isResizable]);\n  return [width, resizeRef];\n}\n\nexport default useResize;"]},"metadata":{},"sourceType":"module"}