"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _isEmpty = _interopRequireDefault(require("lodash/isEmpty"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _commonUtility = require("../utils/commonUtility");

var _localeData = require("../utils/localeData");

var _i18nUtility = require("../utils/i18nUtility");

var _Currency = _interopRequireDefault(require("./Currency"));

var FormattedCurrency = function FormattedCurrency(_ref) {
  var currency = _ref.currency,
      value = _ref.value;
  if (!(0, _commonUtility.isNumber)(value)) return 'Invalid Currency Value';

  if (typeof currency !== "string") {
    return '';
  }

  var formattedString = _i18nUtility.intl.get(_localeData.currencyIdsMap.get(currency.toLowerCase()), {
    price: value
  });

  return (0, _isEmpty["default"])(formattedString) ? (0, _Currency["default"])({
    code: currency.toUpperCase(),
    value: value
  }) : formattedString;
};

FormattedCurrency.defaultProps = {
  currency: 'USD'
};
FormattedCurrency.propTypes = {
  /** value is required */
  value: _propTypes["default"].oneOfType([_propTypes["default"].number, _propTypes["default"].string]).isRequired,

  /** currency type (USD,EUR,...) */
  currency: _propTypes["default"].oneOf(_localeData.currencyTypes)
};
var _default = FormattedCurrency;
exports["default"] = _default;