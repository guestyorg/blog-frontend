"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.useStyles = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _noop = _interopRequireDefault(require("lodash/noop"));

var _classnames = _interopRequireDefault(require("classnames"));

var _createStyles = _interopRequireDefault(require("../createStyles"));

var _TextField = _interopRequireDefault(require("../TextField"));

var _Icon = _interopRequireDefault(require("../Icon"));

var _Button = _interopRequireDefault(require("../Button"));

var _Layout = require("../Layout");

var _Collapse = _interopRequireDefault(require("../Collapse"));

var BtnArrowDown = function BtnArrowDown(props) {
  return /*#__PURE__*/_react["default"].createElement("svg", props, /*#__PURE__*/_react["default"].createElement("path", {
    d: "M4.533 4.997c.13.006.26-.039.357-.136L8.925.826a.488.488 0 0 0-.69-.69L4.532 3.843.826.137a.488.488 0 0 0-.69.69L4.172 4.86c.097.097.23.143.362.136z"
  }));
};

BtnArrowDown.defaultProps = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 9.0618038 4.9977479"
};
var useStyles = (0, _createStyles["default"])(function (theme) {
  return {
    root: {
      paddingTop: theme.spacer(3),
      paddingBottom: theme.spacer(3),
      display: 'flex',
      flexDirection: 'column'
    },
    header: {
      width: 'inherit',
      color: theme.palette.secondary["default"]
    },
    content: {
      paddingTop: theme.spacer(4),
      paddingBottom: theme.spacer(1)
    },
    borderBottom: {
      borderBottom: "solid 1px ".concat(theme.palette.border)
    },
    iconContainer: {
      width: '20px'
    },
    rotateChevron: {
      transition: theme.transition.create('all', {
        duration: theme.transition.duration.enteringScreen,
        easing: theme.transition.easing.easeOut
      })
    },
    openChevron: {
      transform: 'rotate(180deg)'
    },
    title: {
      width: '100%'
    }
  };
}, {
  name: 'Accordion'
});
exports.useStyles = useStyles;

var Accordion = _react["default"].forwardRef(function Accordion(_ref, ref) {
  var children = _ref.children,
      _ref$open = _ref.open,
      open = _ref$open === void 0 ? false : _ref$open,
      _ref$title = _ref.title,
      title = _ref$title === void 0 ? '' : _ref$title,
      jss = _ref.jss,
      className = _ref.className,
      _ref$onChange = _ref.onChange,
      onChange = _ref$onChange === void 0 ? _noop["default"] : _ref$onChange,
      icon = _ref.icon,
      _ref$divider = _ref.divider,
      divider = _ref$divider === void 0 ? false : _ref$divider;
  var classes = useStyles({
    jss: jss
  });
  return /*#__PURE__*/_react["default"].createElement("div", {
    className: (0, _classnames["default"])(classes.root, (0, _defineProperty2["default"])({}, classes.borderBottom, divider), className),
    ref: ref
  }, /*#__PURE__*/_react["default"].createElement(_Button["default"], {
    className: classes.header,
    enableRipple: false,
    onClick: onChange
  }, /*#__PURE__*/_react["default"].createElement(_Layout.Row, {
    align: "center",
    justify: "between",
    fullWidth: true
  }, /*#__PURE__*/_react["default"].createElement(_Layout.Row, {
    align: "center",
    spacing: 2,
    fullWidth: true
  }, icon && /*#__PURE__*/_react["default"].createElement(_Layout.Section, {
    className: classes.iconContainer,
    justify: "center",
    align: "center"
  }, /*#__PURE__*/_react["default"].createElement(_Icon["default"], {
    className: classes.icon,
    svg: icon
  })), /*#__PURE__*/_react["default"].createElement(_TextField["default"], {
    className: classes.title,
    align: "left",
    variant: "h5",
    bold: true
  }, title)), /*#__PURE__*/_react["default"].createElement(_Icon["default"], {
    className: (0, _classnames["default"])(classes.chevron, classes.rotateChevron, (0, _defineProperty2["default"])({}, classes.openChevron, open)),
    width: 10,
    height: 5,
    svg: BtnArrowDown
  }))), /*#__PURE__*/_react["default"].createElement(_Collapse["default"], {
    show: open
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: classes.content
  }, children)));
});

Accordion.propTypes = {
  /** The accordion component children */
  children: _propTypes["default"].oneOfType([_propTypes["default"].arrayOf(_propTypes["default"].node), _propTypes["default"].node]).isRequired,

  /** The accordion title element */
  title: _propTypes["default"].node.isRequired,

  /** CallBack for on click (for controlled mode ) */
  onChange: _propTypes["default"].func,

  /** Indicator whether or not to open accordion (for controlled mode ) */
  open: _propTypes["default"].bool,

  /** Icon to be shown to the left of the title */
  icon: _propTypes["default"].oneOfType([_propTypes["default"].shape(), _propTypes["default"].func]),

  /** Indicator whether or not to have bottom border accordion */
  divider: _propTypes["default"].bool,

  /** jss override object to customize the jss classes */
  jss: _propTypes["default"].oneOfType([_propTypes["default"].shape(), _propTypes["default"].func]),

  /** Additional class name for css Accordion root */
  className: _propTypes["default"].string
};
Accordion.displayName = 'Accordion';
var _default = Accordion;
exports["default"] = _default;