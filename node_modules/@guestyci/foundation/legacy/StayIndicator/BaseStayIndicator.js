"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _enums = require("../../enums/enums");

var Complete = _enums.StayStatus.Complete,
    Reserved = _enums.StayStatus.Reserved,
    Staying = _enums.StayStatus.Staying;

var generateIndicatorColor = function generateIndicatorColor(status, isDark) {
  var defaultColor = isDark ? 'black' : 'gray';

  switch (status) {
    case Complete:
      return {
        fillLeft: true,
        fillRight: true,
        leftColor: 'green',
        rightColor: 'green'
      };

    case Reserved:
      return {
        leftColor: 'yellow',
        rightColor: 'yellow'
      };

    case Staying:
      return {
        fillLeft: true,
        leftColor: 'green',
        rightColor: defaultColor
      };

    default:
      return {
        leftColor: defaultColor,
        rightColor: defaultColor
      };
  }
};

var BaseStayIndicator = function BaseStayIndicator(_ref) {
  var status = _ref.status,
      className = _ref.className,
      dark = _ref.dark,
      style = _ref.style,
      fullWdith = _ref.fullWdith;
  var circleSize = 9;
  var lineWidth = 1;
  var lineLength = 7;

  if (fullWdith) {
    lineLength = "calc(50% - ".concat(circleSize, "px)");
  }

  var _generateIndicatorCol = generateIndicatorColor(status, dark),
      leftColor = _generateIndicatorCol.leftColor,
      rightColor = _generateIndicatorCol.rightColor,
      fillLeft = _generateIndicatorCol.fillLeft,
      fillRight = _generateIndicatorCol.fillRight;

  return /*#__PURE__*/_react["default"].createElement("div", {
    className: (0, _classnames["default"])('flex-center', 'w-100', className),
    style: style,
    "data-qa": "base-stay-indicator"
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: (0, _classnames["default"])('stay-indicator-circle-1', (0, _defineProperty2["default"])({}, "bg-".concat(leftColor), fillLeft), 'b-1', "border-".concat(leftColor)),
    style: {
      width: circleSize,
      height: circleSize,
      borderRadius: '50%'
    }
  }), /*#__PURE__*/_react["default"].createElement("div", {
    className: (0, _classnames["default"])('stay-indicator-line-1', "border-".concat(leftColor)),
    style: {
      width: lineLength,
      borderTopWidth: lineWidth,
      borderTopStyle: 'solid'
    }
  }), /*#__PURE__*/_react["default"].createElement("div", {
    className: (0, _classnames["default"])('stay-indicator-line-2', "border-".concat(rightColor)),
    style: {
      width: lineLength,
      borderTopWidth: lineWidth,
      borderTopStyle: 'solid'
    }
  }), /*#__PURE__*/_react["default"].createElement("div", {
    className: (0, _classnames["default"])('stay-indicator-circle-2', (0, _defineProperty2["default"])({}, "bg-".concat(rightColor), fillRight), 'b-1', "border-".concat(rightColor)),
    style: {
      width: circleSize,
      height: circleSize,
      borderRadius: '50%'
    }
  }));
};

BaseStayIndicator.defaultProps = {
  status: _enums.StayStatus.Planned,
  className: '',
  style: {},
  dark: false,
  fullWdith: false
};
BaseStayIndicator.propTypes = {
  /** Stay status - Enum (StayStatus- [Reserved, Planned, Staying, Complete,]) */
  status: _propTypes["default"].oneOf([_enums.StayStatus.Planned, _enums.StayStatus.Staying, _enums.StayStatus.Complete, _enums.StayStatus.Reserved]),

  /** Additional class to add to StayIndicator */
  className: _propTypes["default"].string,

  /** Additional style to add to StayIndicator */
  style: _propTypes["default"].shape(),

  /** Set theme to dark */
  dark: _propTypes["default"].bool,

  /** Set the stay indicator to fill space */
  fullWdith: _propTypes["default"].bool
};
var _default = BaseStayIndicator;
exports["default"] = _default;