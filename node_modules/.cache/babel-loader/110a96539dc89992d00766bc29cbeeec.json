{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport isEmpty from 'lodash/isEmpty';\nimport debounce from 'lodash/debounce';\nimport createStyles from \"../createStyles\";\nimport { white } from \"../theme/colors\";\nvar useStyles = createStyles({\n  root: {\n    position: 'absolute',\n    overflow: 'hidden',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    '& span': {\n      transform: 'scale(0)',\n      borderRadius: '100%',\n      position: 'absolute',\n      overflow: 'hidden',\n      opacity: 0.5,\n      backgroundColor: function backgroundColor(_ref) {\n        var color = _ref.color;\n        return color;\n      },\n      animation: '$rippleEffect 850ms'\n    }\n  },\n  '@keyframes rippleEffect': {\n    to: {\n      opacity: 0,\n      transform: 'scale(2)'\n    }\n  }\n});\nvar TouchRipple = React.forwardRef(function TouchRipple(_ref2, ref) {\n  var _ref2$color = _ref2.color,\n      color = _ref2$color === void 0 ? white : _ref2$color,\n      _ref2$className = _ref2.className,\n      className = _ref2$className === void 0 ? '' : _ref2$className;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      spanStyles = _useState2[0],\n      setSpanStyles = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var classes = useStyles({\n    color: color\n  });\n  var showRipple = useCallback(function (e) {\n    var rippleContainer = e.currentTarget;\n    var size = rippleContainer.offsetWidth;\n    var pos = rippleContainer.getBoundingClientRect();\n    var x = Math.round(e.clientX - pos.left);\n    var y = Math.round(e.clientY - pos.top);\n    setCount(count + 1);\n    setSpanStyles(_extends({}, spanStyles, _defineProperty({}, count, {\n      top: -(size / 2) + y,\n      left: -(size / 2) + x,\n      height: size,\n      width: size\n    })));\n  }, [count, spanStyles]);\n  var cleanUp = debounce(function () {\n    setCount(0);\n    setSpanStyles({});\n  }, 2500);\n  React.useImperativeHandle(ref, function () {\n    return {\n      ripple: showRipple,\n      stop: cleanUp\n    };\n  });\n  useEffect(function () {\n    return function () {\n      return cleanUp.cancel();\n    };\n  }, []);\n  var spanArray = useMemo(function () {\n    return Object.keys(spanStyles);\n  }, [spanStyles]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    role: \"presentation\",\n    className: cn(classes.root, className)\n  }, !isEmpty(spanArray) ? spanArray.map(function (key) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: \"rippleWave\".concat(key),\n      style: _extends({}, spanStyles[key])\n    });\n  }) : null);\n});\nTouchRipple.propTypes = {\n  color: PropTypes.string,\n  className: PropTypes.string\n};\nexport default TouchRipple;","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/simple-app-archive/node_modules/@guestyci/foundation/esm/Button/TouchRipple.js"],"names":["_defineProperty","_extends","_slicedToArray","React","useState","useCallback","useMemo","useEffect","cn","PropTypes","isEmpty","debounce","createStyles","white","useStyles","root","position","overflow","top","right","bottom","left","transform","borderRadius","opacity","backgroundColor","_ref","color","animation","to","TouchRipple","forwardRef","_ref2","ref","_ref2$color","_ref2$className","className","_useState","_useState2","spanStyles","setSpanStyles","_useState3","_useState4","count","setCount","classes","showRipple","e","rippleContainer","currentTarget","size","offsetWidth","pos","getBoundingClientRect","x","Math","round","clientX","y","clientY","height","width","cleanUp","useImperativeHandle","ripple","stop","cancel","spanArray","Object","keys","createElement","role","map","key","concat","style","propTypes","string"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport isEmpty from 'lodash/isEmpty';\nimport debounce from 'lodash/debounce';\nimport createStyles from \"../createStyles\";\nimport { white } from \"../theme/colors\";\nvar useStyles = createStyles({\n  root: {\n    position: 'absolute',\n    overflow: 'hidden',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    '& span': {\n      transform: 'scale(0)',\n      borderRadius: '100%',\n      position: 'absolute',\n      overflow: 'hidden',\n      opacity: 0.5,\n      backgroundColor: function backgroundColor(_ref) {\n        var color = _ref.color;\n        return color;\n      },\n      animation: '$rippleEffect 850ms'\n    }\n  },\n  '@keyframes rippleEffect': {\n    to: {\n      opacity: 0,\n      transform: 'scale(2)'\n    }\n  }\n});\nvar TouchRipple = React.forwardRef(function TouchRipple(_ref2, ref) {\n  var _ref2$color = _ref2.color,\n      color = _ref2$color === void 0 ? white : _ref2$color,\n      _ref2$className = _ref2.className,\n      className = _ref2$className === void 0 ? '' : _ref2$className;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      spanStyles = _useState2[0],\n      setSpanStyles = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var classes = useStyles({\n    color: color\n  });\n  var showRipple = useCallback(function (e) {\n    var rippleContainer = e.currentTarget;\n    var size = rippleContainer.offsetWidth;\n    var pos = rippleContainer.getBoundingClientRect();\n    var x = Math.round(e.clientX - pos.left);\n    var y = Math.round(e.clientY - pos.top);\n    setCount(count + 1);\n    setSpanStyles(_extends({}, spanStyles, _defineProperty({}, count, {\n      top: -(size / 2) + y,\n      left: -(size / 2) + x,\n      height: size,\n      width: size\n    })));\n  }, [count, spanStyles]);\n  var cleanUp = debounce(function () {\n    setCount(0);\n    setSpanStyles({});\n  }, 2500);\n  React.useImperativeHandle(ref, function () {\n    return {\n      ripple: showRipple,\n      stop: cleanUp\n    };\n  });\n  useEffect(function () {\n    return function () {\n      return cleanUp.cancel();\n    };\n  }, []);\n  var spanArray = useMemo(function () {\n    return Object.keys(spanStyles);\n  }, [spanStyles]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    role: \"presentation\",\n    className: cn(classes.root, className)\n  }, !isEmpty(spanArray) ? spanArray.map(function (key) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: \"rippleWave\".concat(key),\n      style: _extends({}, spanStyles[key])\n    });\n  }) : null);\n});\nTouchRipple.propTypes = {\n  color: PropTypes.string,\n  className: PropTypes.string\n};\nexport default TouchRipple;"]},"metadata":{},"sourceType":"module"}