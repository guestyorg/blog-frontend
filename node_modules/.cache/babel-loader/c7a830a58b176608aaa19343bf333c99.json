{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useCallback, useLayoutEffect } from 'react';\n\nvar getSize = function getSize(el) {\n  return {\n    width: (el === null || el === void 0 ? void 0 : el.offsetWidth) || 0,\n    height: (el === null || el === void 0 ? void 0 : el.offsetHeight) || 0\n  };\n};\n\nexport default (function (ref, isActive) {\n  var _useState = useState(getSize(ref === null || ref === void 0 ? void 0 : ref.current)),\n      _useState2 = _slicedToArray(_useState, 2),\n      size = _useState2[0],\n      setSize = _useState2[1];\n\n  var resizeTimer;\n  var handleResize = useCallback(function () {\n    if ((ref === null || ref === void 0 ? void 0 : ref.current) && isActive) {\n      if (resizeTimer) clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(function () {\n        setSize(getSize(ref.current));\n      }, 300);\n    }\n  }, [ref, isActive]);\n  useLayoutEffect(function () {\n    var _window;\n\n    if (!(ref === null || ref === void 0 ? void 0 : ref.current) || !isActive) {\n      return;\n    }\n\n    handleResize();\n\n    if (typeof ((_window = window) === null || _window === void 0 ? void 0 : _window.ResizeObserver) === 'function') {\n      var resizeObserver = new window.ResizeObserver(function () {\n        handleResize();\n      });\n      resizeObserver.observe(ref.current);\n      return function () {\n        resizeObserver.disconnect(ref.current);\n        resizeObserver = null;\n      };\n    }\n\n    window.addEventListener('resize', handleResize);\n    return function () {\n      if ((ref === null || ref === void 0 ? void 0 : ref.current) && isActive && resizeTimer) {\n        clearTimeout(resizeTimer);\n      }\n\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [ref.current, isActive]);\n  return size;\n});","map":{"version":3,"sources":["/Users/giladdekel/Workspace/Guesty/onboarding-blog/onboarding-blog-app/onboarding-frontend-main/simple-app-archive/node_modules/@guestyci/history/esm/utils/hooks/useSizeHook.js"],"names":["_slicedToArray","useState","useCallback","useLayoutEffect","getSize","el","width","offsetWidth","height","offsetHeight","ref","isActive","_useState","current","_useState2","size","setSize","resizeTimer","handleResize","clearTimeout","setTimeout","_window","window","ResizeObserver","resizeObserver","observe","disconnect","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useCallback, useLayoutEffect } from 'react';\n\nvar getSize = function getSize(el) {\n  return {\n    width: (el === null || el === void 0 ? void 0 : el.offsetWidth) || 0,\n    height: (el === null || el === void 0 ? void 0 : el.offsetHeight) || 0\n  };\n};\n\nexport default (function (ref, isActive) {\n  var _useState = useState(getSize(ref === null || ref === void 0 ? void 0 : ref.current)),\n      _useState2 = _slicedToArray(_useState, 2),\n      size = _useState2[0],\n      setSize = _useState2[1];\n\n  var resizeTimer;\n  var handleResize = useCallback(function () {\n    if ((ref === null || ref === void 0 ? void 0 : ref.current) && isActive) {\n      if (resizeTimer) clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(function () {\n        setSize(getSize(ref.current));\n      }, 300);\n    }\n  }, [ref, isActive]);\n  useLayoutEffect(function () {\n    var _window;\n\n    if (!(ref === null || ref === void 0 ? void 0 : ref.current) || !isActive) {\n      return;\n    }\n\n    handleResize();\n\n    if (typeof ((_window = window) === null || _window === void 0 ? void 0 : _window.ResizeObserver) === 'function') {\n      var resizeObserver = new window.ResizeObserver(function () {\n        handleResize();\n      });\n      resizeObserver.observe(ref.current);\n      return function () {\n        resizeObserver.disconnect(ref.current);\n        resizeObserver = null;\n      };\n    }\n\n    window.addEventListener('resize', handleResize);\n    return function () {\n      if ((ref === null || ref === void 0 ? void 0 : ref.current) && isActive && resizeTimer) {\n        clearTimeout(resizeTimer);\n      }\n\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [ref.current, isActive]);\n  return size;\n});"]},"metadata":{},"sourceType":"module"}