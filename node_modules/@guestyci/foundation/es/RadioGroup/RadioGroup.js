import _extends from "@babel/runtime/helpers/esm/extends";
import _objectWithoutPropertiesLoose from "@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";
import React, { useState, useCallback } from 'react';
import PropTypes from 'prop-types';
import noop from 'lodash/noop';
import { Row, Col } from "../Layout";
import RadioGroupContext from "./RadioGroupContext";
const RadioGroup = React.forwardRef(function RadioGroup(_ref, ref) {
  let {
    children,
    name,
    inline,
    value: valueProp,
    onChange
  } = _ref,
      props = _objectWithoutPropertiesLoose(_ref, ["children", "name", "className", "inline", "value", "style", "onChange"]);

  const [activeItem, setActiveItem] = useState(valueProp);
  const handleOnChange = useCallback(e => {
    const {
      value
    } = e.target;
    setActiveItem(value);

    if (onChange) {
      onChange(e);
    }
  }, [onChange]);
  return /*#__PURE__*/React.createElement(RadioGroupContext.Provider, {
    value: {
      name,
      onChange: handleOnChange,
      value: activeItem
    }
  }, inline ? /*#__PURE__*/React.createElement(Row, _extends({}, props, {
    ref: ref
  }), children) : /*#__PURE__*/React.createElement(Col, _extends({}, props, {
    ref: ref
  }), children));
});
RadioGroup.defaultProps = {
  name: '',
  className: '',
  value: '',
  onChange: noop,
  style: {},
  inline: false
};
RadioGroup.propTypes = {
  /** The radioGroup children to render */
  children: PropTypes.node.isRequired,

  /** Callback for on radio change */
  onChange: PropTypes.func,

  /** Additional class to radioGroup root */
  className: PropTypes.string,

  /** Additional style to radioGroup root */
  style: PropTypes.shape(),

  /** value will be return when click on this item */
  name: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),

  /** Identifier will be return when click on this element */
  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),

  /** The value of the selected radio  */
  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.shape()]),

  /** Render group inline or not */
  inline: PropTypes.bool
};
RadioGroup.displayName = 'RadioGroup';
export default RadioGroup;